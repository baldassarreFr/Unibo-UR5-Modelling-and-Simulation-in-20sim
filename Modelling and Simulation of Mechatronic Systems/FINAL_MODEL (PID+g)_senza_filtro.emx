<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Model version="5.1" build="5.1.4.13773">
  <Sidops><![CDATA[model 128 184
 description '<Information>
  <Description>
    <Version>5.1</Version>
    <IsMainModel>0</IsMainModel>
    <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>C:\Users\samue\Desktop\FINAL_MODEL (PID+g)_mio.emx</LibraryPath>
    <TimeStamp>2025-6-8 20:27:06</TimeStamp>
  </Description>
  <Attributes>
    <GlobalRelations>parameters

	//mass of links
	real m1 = 3.7;
	real m2 = 8.393;
	real m3 = 2.33;
	real m4 = 1.1219;
	real m5 = 1.1219;
	real m6 = 0.1879;

	//gravitational accelleration
	real g = 9.81;

	// Denavit-Hartenberg matrix [theta, d, a, alpha]
	real DH[6,4] = [0, 0.089159, 0, pi/2;
						 0, 0, -0.425, 0;
						 0, 0, -0.39225, 0;
						 0, 0.10915, 0, pi/2;
						 0, 0.09465, 0, -pi/2;
						 0, 0.0823, 0, 0];

	// damping coefficient
	real r = 1e3;
	// stiffness coefficient 
	real c = 1e7;

	//LINK 1
	real cos_alpha_1 = cos(DH[1,4]);
   real sin_alpha_1 = sin(DH[1,4]);
   real cos_theta_1 = cos(DH[1,1]);
   real sin_theta_1 = sin(DH[1,1]);

	// Homogeneous transformation matrix from base frame (0) to frame 1 (link 1)
	real H_0_1[4,4] = [cos_theta_1, -sin_theta_1 * cos_alpha_1, sin_theta_1 * sin_alpha_1, DH[1,3] * cos_theta_1;
							sin_theta_1, cos_theta_1 * cos_alpha_1, -cos_theta_1 * sin_alpha_1, DH[1,3] * sin_theta_1;
							0, sin_alpha_1, cos_alpha_1, DH[1,2];
							0, 0, 0, 1];

	//LINK 2
	real cos_alpha_2 = cos(DH[2,4]);
   real sin_alpha_2 = sin(DH[2,4]);
   real cos_theta_2 = cos(DH[2,1]);
   real sin_theta_2 = sin(DH[2,1]);
	
	real H_1_2[4,4] = [cos_theta_2, -sin_theta_2 * cos_alpha_2, sin_theta_2 * sin_alpha_2, DH[2,3] * cos_theta_2;
							sin_theta_2, cos_theta_2 * cos_alpha_2, -cos_theta_2 * sin_alpha_2, DH[2,3] * sin_theta_2;
							0, sin_alpha_2, cos_alpha_2, DH[2,2];
							0, 0, 0, 1];

	//LINK 3
	real cos_alpha_3 = cos(DH[3,4]);
   real sin_alpha_3 = sin(DH[3,4]);
   real cos_theta_3 = cos(DH[3,1]);
   real sin_theta_3 = sin(DH[3,1]);

	real H_2_3[4,4] = [cos_theta_3, -sin_theta_3 * cos_alpha_3, sin_theta_3 * sin_alpha_3, DH[3,3] * cos_theta_3;
							sin_theta_3, cos_theta_3 * cos_alpha_3, -cos_theta_3 * sin_alpha_3, DH[3,3] * sin_theta_3;
							0, sin_alpha_3, cos_alpha_3, DH[3,2];
							0, 0, 0, 1];

	//LINK 4
	real cos_alpha_4 = cos(DH[4,4]);
   real sin_alpha_4 = sin(DH[4,4]);
   real cos_theta_4 = cos(DH[4,1]);
   real sin_theta_4 = sin(DH[4,1]);

	real H_3_4[4,4] = [cos_theta_4, -sin_theta_4 * cos_alpha_4, sin_theta_4 * sin_alpha_4, DH[4,3] * cos_theta_4;
							sin_theta_4, cos_theta_4 * cos_alpha_4, -cos_theta_4 * sin_alpha_4, DH[4,3] * sin_theta_4;
							0, sin_alpha_4, cos_alpha_4, DH[4,2];
							0, 0, 0, 1];

	//LINK 5
	real cos_alpha_5 = cos(DH[5,4]);
   real sin_alpha_5 = sin(DH[5,4]);
   real cos_theta_5 = cos(DH[5,1]);
   real sin_theta_5 = sin(DH[5,1]);

	real H_4_5[4,4] = [cos_theta_5, -sin_theta_5 * cos_alpha_5, sin_theta_5 * sin_alpha_5, DH[5,3] * cos_theta_5;
							sin_theta_5, cos_theta_5 * cos_alpha_5, -cos_theta_5 * sin_alpha_5, DH[5,3] * sin_theta_5;
							0, sin_alpha_5, cos_alpha_5, DH[5,2];
							0, 0, 0, 1];

	//LINK 6
	real cos_alpha_6 = cos(DH[6,4]);
   real sin_alpha_6 = sin(DH[6,4]);
   real cos_theta_6 = cos(DH[6,1]);
   real sin_theta_6 = sin(DH[6,1]);

	real H_5_6[4,4] = [cos_theta_6, -sin_theta_6 * cos_alpha_6, sin_theta_6 * sin_alpha_6, DH[6,3] * cos_theta_6;
							sin_theta_6, cos_theta_6 * cos_alpha_6, -cos_theta_6 * sin_alpha_6, DH[6,3] * sin_theta_6;
							0, sin_alpha_6, cos_alpha_6, DH[6,2];
							0, 0, 0, 1];</GlobalRelations>
  </Attributes>
</Information>';
 type 'Mainmodel- Copia'
 end;
 implementation bg
  submodels
   Constant1 184 344
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Sources\Constant.emx</LibraryPath><TimeStamp>2007-10-19 14:48:44</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Constant
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 168.1 328 199.9 360 color 0 fill 15132390;
      line 172.9 339.6 194.9 339.6 color 16711680 width 2;
      line 170.2 350.7 195.9 350.7 color 0;
      line 172.5 334.7 172.5 353 color 0;
    end;
    implementation eq
parameters
	real C = pi;		// output value
equations
	output = C;
     implementation_end;
   Constant2 400 352
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Sources\Constant.emx</LibraryPath><TimeStamp>2007-10-19 14:48:44</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Constant
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 384.1 336 415.9 368 color 0 fill 15132390;
      line 388.9 347.6 410.9 347.6 color 16711680 width 2;
      line 386.2 358.7 411.9 358.7 color 0;
      line 388.5 342.7 388.5 361 color 0;
    end;
    implementation eq
parameters
	real C = pi;		// output value
equations
	output = C;
     implementation_end;
   Constant3 656 352
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Sources\Constant.emx</LibraryPath><TimeStamp>2007-10-19 14:48:44</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Constant
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 640.1 336 671.9 368 color 0 fill 15132390;
      line 644.9 347.6 666.9 347.6 color 16711680 width 2;
      line 642.2 358.7 667.9 358.7 color 0;
      line 644.5 342.7 644.5 361 color 0;
    end;
    implementation eq
parameters
	real C = pi;		// output value
equations
	output = C;
     implementation_end;
   Constant4 912 352
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Sources\Constant.emx</LibraryPath><TimeStamp>2007-10-19 14:48:44</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Constant
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 896.1 336 927.9 368 color 0 fill 15132390;
      line 900.9 347.6 922.9 347.6 color 16711680 width 2;
      line 898.2 358.7 923.9 358.7 color 0;
      line 900.5 342.7 900.5 361 color 0;
    end;
    implementation eq
parameters
	real C = pi;		// output value
equations
	output = C;
     implementation_end;
   Constant5 1160 360
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Sources\Constant.emx</LibraryPath><TimeStamp>2007-10-19 14:48:44</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Constant
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 1144.1 344 1175.9 376 color 0 fill 15132390;
      line 1148.9 355.6 1170.9 355.6 color 16711680 width 2;
      line 1146.2 366.7 1171.9 366.7 color 0;
      line 1148.5 350.7 1148.5 369 color 0;
    end;
    implementation eq
parameters
	real C = pi;		// output value
equations
	output = C;
     implementation_end;
   Constant6 1384 360
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Sources\Constant.emx</LibraryPath><TimeStamp>2007-10-19 14:48:44</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Constant
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 1368.1 344 1399.9 376 color 0 fill 15132390;
      line 1372.9 355.6 1394.9 355.6 color 16711680 width 2;
      line 1370.2 366.7 1395.9 366.7 color 0;
      line 1372.5 350.7 1372.5 369 color 0;
    end;
    implementation eq
parameters
	real C = pi;		// output value
equations
	output = C;
     
implementation_end;
   HD1 232 184.5
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in input;
      power out output;
    end;
    icon bg
     figures
      rectangle 200 168 264 201 color 0 fill 15132390;
      text 'name' 235 185 color 0 16;
     terminals
      input 232 200 fixed;
      output 232 168 fixed;
    end;
    implementation bg
     submodels
      C 472 144
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
       type C
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred out p;
       end;
       icon bg ellipse
        figures
         text 'C' 472 144 color 0 18 bold;
       end;
       implementation eq
variables
	real phi1;
	real phi2;
	
parameters
	real k1 = 16e3;   // Low stiffness
	real k2 = 25e3;  // Medium stiffness
	real k3 = 29e3;  // High stiffness
	real T1 = 7;    // Torque at transition 1
	real T2 = 25;    // Torque at transition 2

equations
	state = int(p.f);
	phi1 = T1/k1;
	phi2 = T1/k1 + (T2 - T1)/k2;
	
	if state <= phi1 and state >= -phi1 then
		p.e = state * k1;
	elsif state <= phi2 and state >= -phi2 then
		p.e = (state - sign(state)*phi1) * k2 + sign(state)*T1;
	else 
		p.e = (state - sign(state)*phi2)*k3 + sign(state)*T2;
	end;implementation_end;
      I 152 152
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg ellipse bottom
        figures
         text 'I' 152 152 color 0 18 bold;
       end;
       implementation eq
parameters
	real i = 0.404e-4;
equations
    state = int(p.e);
    p.f = state / i;
implementation_end;
      plug input 64 232;
      plug output 696 232;
      OneJunction 152 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 600 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 600 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R 152 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse
        figures
         text 'R' 152 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      R1 600 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse
        figures
         text 'R' 600 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      TF 312 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\TF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:43:47</TimeStamp>
</Description>
</Information>';
       type TF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 312 232 color 0 18 bold;
       end;
       implementation eq
parameters
	real r = -100;
equations
	p2.e = r * p1.e;
	p1.f = r * p2.f;
implementation_end;
      ZeroJunction 472 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 472 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      input => OneJunction\p;
      OneJunction\p => I\p;
      OneJunction\p => R\p;
      OneJunction\p => TF\p1;
      OneJunction1\p => output;
      OneJunction1\p => R1\p;
      TF\p2 => ZeroJunction\p;
      ZeroJunction\p => C\p;
      ZeroJunction\p => OneJunction1\p;
     end;
     figures
      text 'Motor side rotational inertia' 152 128 color 0 11;
      text 'Viscous friction' 152 328 color 0 11;
      text 'Gear reduction (gear ration: 100)' 312 208 color 0 11;
      text 'Torsional stiffness' 480 120 color 0 11;
      text 'Viscous friction' 600 328 color 0 11;
    implementation_end;
   HD2 448 184.5
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in input;
      power out output;
    end;
    icon bg
     figures
      rectangle 416 168 480 201 color 0 fill 15132390;
      text 'name' 451 185 color 0 16;
     terminals
      input 448 200 fixed;
      output 448 168 fixed;
    end;
    implementation bg
     submodels
      C 472 128
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
       type C
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred out p;
       end;
       icon bg ellipse bottom
        figures
         text 'C' 472 128 color 0 18 bold;
       end;
       implementation eq
variables
	real phi1;
	real phi2;
	
parameters
	real k1 = 16e3;   // Low stiffness
	real k2 = 25e3;  // Medium stiffness
	real k3 = 29e3;  // High stiffness
	real T1 = 7;    // Torque at transition 1
	real T2 = 25;    // Torque at transition 2

equations
	state = int(p.f);
	phi1 = T1/k1;
	phi2 = T1/k1 + (T2 - T1)/k2;
	
	if state <= phi1 and state >= -phi1 then
		p.e = state * k1;
	elsif state <= phi2 and state >= -phi2 then
		p.e = (state - sign(state)*phi1) * k2 + sign(state)*T1;
	else 
		p.e = (state - sign(state)*phi2)*k3 + sign(state)*T2;
	end;implementation_end;
      I 152 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg ellipse bottom
        figures
         text 'I' 152 136 color 0 18 bold;
       end;
       implementation eq
parameters
	real i = 0.404e-4;
equations
    state = int(p.e);
    p.f = state / i;
implementation_end;
      plug input 64 232;
      plug output 696 232;
      OneJunction 152 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 600 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 600 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R 152 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 152 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;







implementation_end;
      R1 600 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 600 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      TF 312 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\TF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:43:47</TimeStamp>
</Description>
</Information>';
       type TF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 312 232 color 0 18 bold;
       end;
       implementation eq
parameters
	real r = -100;
equations
	p2.e = r * p1.e;
	p1.f = r * p2.f;
implementation_end;
      ZeroJunction 472 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 472 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      input => OneJunction\p;
      OneJunction\p => I\p;
      OneJunction\p => R\p;
      OneJunction\p => TF\p1;
      OneJunction1\p => output;
      OneJunction1\p => R1\p;
      TF\p2 => ZeroJunction\p;
      ZeroJunction\p => C\p;
      ZeroJunction\p => OneJunction1\p;
     end;
     figures
      text 'Motor side rotational inertia' 160 120 color 0 11;
      text 'Viscous friction' 160 336 color 0 11;
      text 'Gear reduction (gear ration: 100)' 312 208 color 0 11;
      text 'Torsional stiffness' 472 112 color 0 11;
      text 'Viscous friction' 600 344 color 0 11;
    implementation_end;
   HD3 704 184.5
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in input;
      power out output;
    end;
    icon bg
     figures
      rectangle 672 168 736 201 color 0 fill 15132390;
      text 'name' 707 185 color 0 16;
     terminals
      input 704 200 fixed;
      output 704 168 fixed;
    end;
    implementation bg
     submodels
      C 472 128
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
       type C
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred out p;
       end;
       icon bg ellipse bottom
        figures
         text 'C' 472 128 color 0 18 bold;
       end;
       implementation eq
variables
	real phi1;
	real phi2;
	
parameters
	real k1 = 16e3;   // Low stiffness
	real k2 = 25e3;  // Medium stiffness
	real k3 = 29e3;  // High stiffness
	real T1 = 7;    // Torque at transition 1
	real T2 = 25;    // Torque at transition 2

equations
	state = int(p.f);
	phi1 = T1/k1;
	phi2 = T1/k1 + (T2 - T1)/k2;
	
	if state <= phi1 and state >= -phi1 then
		p.e = state * k1;
	elsif state <= phi2 and state >= -phi2 then
		p.e = (state - sign(state)*phi1) * k2 + sign(state)*T1;
	else 
		p.e = (state - sign(state)*phi2)*k3 + sign(state)*T2;
	end;implementation_end;
      I 152 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg ellipse bottom
        figures
         text 'I' 152 136 color 0 18 bold;
       end;
       implementation eq
parameters
	real i = 0.404e-4;
equations
    state = int(p.e);
    p.f = state / i;
implementation_end;
      plug input 64 232;
      plug output 696 232;
      OneJunction 152 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 600 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 600 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R 152 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 152 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;






implementation_end;
      R1 600 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 600 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      TF 312 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\TF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:43:47</TimeStamp>
</Description>
</Information>';
       type TF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 312 232 color 0 18 bold;
       end;
       implementation eq
parameters
	real r = -100;
equations
	p2.e = r * p1.e;
	p1.f = r * p2.f;
implementation_end;
      ZeroJunction 472 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 472 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      input => OneJunction\p;
      OneJunction\p => I\p;
      OneJunction\p => R\p;
      OneJunction\p => TF\p1;
      OneJunction1\p => output;
      OneJunction1\p => R1\p;
      TF\p2 => ZeroJunction\p;
      ZeroJunction\p => C\p;
      ZeroJunction\p => OneJunction1\p;
     end;
     figures
      text 'Motor side rotational inertia' 160 120 color 0 11;
      text 'Viscous friction' 152 336 color 0 11;
      text 'Gear reduction (gear ration: 100)' 312 208 color 0 11;
      text 'Torsional stiffness' 472 112 color 0 11;
      text 'Viscous friction' 600 344 color 0 11;
    implementation_end;
   HD4 960 192.5
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in input;
      power out output;
    end;
    icon bg
     figures
      rectangle 928 176 992 209 color 0 fill 15132390;
      text 'name' 963 193 color 0 16;
     terminals
      input 960 208 fixed;
      output 960 176 fixed;
    end;
    implementation bg
     submodels
      C 472 128
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
       type C
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred out p;
       end;
       icon bg ellipse bottom
        figures
         text 'C' 472 128 color 0 18 bold;
       end;
       implementation eq
variables
	real phi1;
	real phi2;

parameters
	real k1 = 16e3;   // Low stiffness
	real k2 = 25e3;  // Medium stiffness
	real k3 = 29e3;  // High stiffness
	real T1 = 7;    // Torque at transition 1
	real T2 = 25;    // Torque at transition 2

equations
	state = int(p.f);
	phi1 = T1/k1;
	phi2 = T1/k1 + (T2 - T1)/k2;
	
	if state <= phi1 and state >= -phi1 then
		p.e = state * k1;
	elsif state <= phi2 and state >= -phi2 then
		p.e = (state - sign(state)*phi1) * k2 + sign(state)*T1;
	else 
		p.e = (state - sign(state)*phi2)*k3 + sign(state)*T2;
	end;implementation_end;
      I 152 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg ellipse bottom
        figures
         text 'I' 152 136 color 0 18 bold;
       end;
       implementation eq
parameters
	real i = 0.404e-4;
equations
    state = int(p.e);
    p.f = state / i;
implementation_end;
      plug input 64 232;
      plug output 696 232;
      OneJunction 152 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 600 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 600 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R 152 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 152 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      R1 600 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 600 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      TF 312 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\TF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:43:47</TimeStamp>
</Description>
</Information>';
       type TF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 312 232 color 0 18 bold;
       end;
       implementation eq
parameters
	real r = -100;
equations
	p2.e = r * p1.e;
	p1.f = r * p2.f;
implementation_end;
      ZeroJunction 472 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 472 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      input => OneJunction\p;
      OneJunction\p => I\p;
      OneJunction\p => R\p;
      OneJunction\p => TF\p1;
      OneJunction1\p => output;
      OneJunction1\p => R1\p;
      TF\p2 => ZeroJunction\p;
      ZeroJunction\p => C\p;
      ZeroJunction\p => OneJunction1\p;
     end;
     figures
      text 'Motor side rotational inertia' 152 112 color 0 11;
      text 'Viscous friction' 160 344 color 0 11;
      text 'Gear reduction (gear ration: 100)' 312 208 color 0 11;
      text 'Torsional stiffness' 472 112 color 0 11;
      text 'Viscous friction' 608 344 color 0 11;
    implementation_end;
   HD5 1208 192.5
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in input;
      power out output;
    end;
    icon bg
     figures
      rectangle 1176 176 1240 209 color 0 fill 15132390;
      text 'name' 1211 193 color 0 16;
     terminals
      input 1208 208 fixed;
      output 1208 176 fixed;
    end;
    implementation bg
     submodels
      C 472 128
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
       type C
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred out p;
       end;
       icon bg ellipse bottom
        figures
         text 'C' 472 128 color 0 18 bold;
       end;
       implementation eq
variables
	real phi1;
	real phi2;

parameters
	real k1 = 16e3;   // Low stiffness
	real k2 = 25e3;  // Medium stiffness
	real k3 = 29e3;  // High stiffness
	real T1 = 7;    // Torque at transition 1
	real T2 = 25;    // Torque at transition 2

equations
	state = int(p.f);
	phi1 = T1/k1;
	phi2 = T1/k1 + (T2 - T1)/k2;
	
	if state <= phi1 and state >= -phi1 then
		p.e = state * k1;
	elsif state <= phi2 and state >= -phi2 then
		p.e = (state - sign(state)*phi1) * k2 + sign(state)*T1;
	else 
		p.e = (state - sign(state)*phi2)*k3 + sign(state)*T2;
	end;implementation_end;
      I 152 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg ellipse bottom
        figures
         text 'I' 152 136 color 0 18 bold;
       end;
       implementation eq
parameters
	real i = 0.404e-4;
equations
    state = int(p.e);
    p.f = state / i;
implementation_end;
      plug input 64 232;
      plug output 696 232;
      OneJunction 152 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 600 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 600 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R 152 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 152 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      R1 600 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 600 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      TF 312 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\TF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:43:47</TimeStamp>
</Description>
</Information>';
       type TF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 312 232 color 0 18 bold;
       end;
       implementation eq
parameters
	real r = -100;
equations
	p2.e = r * p1.e;
	p1.f = r * p2.f;
implementation_end;
      ZeroJunction 472 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 472 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      input => OneJunction\p;
      OneJunction\p => I\p;
      OneJunction\p => R\p;
      OneJunction\p => TF\p1;
      OneJunction1\p => output;
      OneJunction1\p => R1\p;
      TF\p2 => ZeroJunction\p;
      ZeroJunction\p => C\p;
      ZeroJunction\p => OneJunction1\p;
     end;
     figures
      text 'Motor side rotational inertia' 160 112 color 0 11;
      text 'Viscous friction' 152 336 color 0 11;
      text 'Gear reduction (gear ration: 100)' 312 208 color 0 11;
      text 'Torsional stiffness' 480 112 color 0 11;
      text 'Viscous friction' 608 344 color 0 11;
    implementation_end;
   HD6 1432 192.5
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in input;
      power out output;
    end;
    icon bg
     figures
      rectangle 1400 176 1464 209 color 0 fill 15132390;
      text 'name' 1435 193 color 0 16;
     terminals
      input 1432 208 fixed;
      output 1432 176 fixed;
    end;
    implementation bg
     submodels
      C 472 128
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
       type C
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred out p;
       end;
       icon bg ellipse bottom
        figures
         text 'C' 472 128 color 0 18 bold;
       end;
       implementation eq
variables
	real phi1;
	real phi2;

parameters
	real k1 = 16e3;   // Low stiffness
	real k2 = 25e3;  // Medium stiffness
	real k3 = 29e3;  // High stiffness
	real T1 = 7;    // Torque at transition 1
	real T2 = 25;    // Torque at transition 2
	
equations
	state = int(p.f);
	phi1 = T1/k1;
	phi2 = T1/k1 + (T2 - T1)/k2;
	
	if state <= phi1 and state >= -phi1 then
		p.e = state * k1;
	elsif state <= phi2 and state >= -phi2 then
		p.e = (state - sign(state)*phi1) * k2 + sign(state)*T1;
	else 
		p.e = (state - sign(state)*phi2)*k3 + sign(state)*T2;
	end;implementation_end;
      I 152 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg ellipse bottom
        figures
         text 'I' 152 136 color 0 18 bold;
       end;
       implementation eq
parameters
	real i = 0.404e-4;
equations
    state = int(p.e);
    p.f = state / i;
implementation_end;
      plug input 64 232;
      plug output 696 232;
      OneJunction 152 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 600 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 600 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R 152 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 152 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      R1 600 312
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
       type R
        ports
         power in p;
       end;
       icon bg ellipse bottom
        figures
         text 'R' 600 312 color 0 18 bold;
       end;
       implementation eq
parameters
	real B_viscous = 6.4e-4;
	real B_minus = -0.007;
	real B_plus = 0.008;

variables
	real B_tilde;
equations
	B_tilde = if p.f < 0 then
		B_viscous * p.f + B_minus
	else 
		if p.f > 0 then
			B_viscous * p.f + B_plus
		else
				0
		end
	end;
	
	p.e = B_tilde;
implementation_end;
      TF 312 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\TF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:43:47</TimeStamp>
</Description>
</Information>';
       type TF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 312 232 color 0 18 bold;
       end;
       implementation eq
parameters
	real r = -100;
equations
	p2.e = r * p1.e;
	p1.f = r * p2.f;
implementation_end;
      ZeroJunction 472 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 472 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      input => OneJunction\p;
      OneJunction\p => I\p;
      OneJunction\p => R\p;
      OneJunction\p => TF\p1;
      OneJunction1\p => output;
      OneJunction1\p |=> R1\p user;
      TF\p2 => ZeroJunction\p;
      ZeroJunction\p => C\p;
      ZeroJunction\p => OneJunction1\p;
     end;
     figures
      text 'Motor side rotational inertia' 160 120 color 0 11;
      text 'Viscous friction' 160 344 color 0 11;
      text 'Gear reduction (gear ration: 100)' 312 208 color 0 11;
      text 'Torsional stiffness' 480 104 color 0 11;
      text 'Viscous friction' 600 344 color 0 11;
    implementation_end;
   Joint1 208 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
      power in theta_dot;
      signal out theta_1;
    end;
    icon bg
     figures
      rectangle 176 56 240 104 color 0 fill 15132390;
      text 'name' 208 80 color 0 16;
     terminals
      linear_A 176 56 fixed;
      linear_B 240 56 fixed;
      rotational_A 176 104 fixed;
      rotational_B 240 104 fixed;
      theta_dot 232 104 fixed;
      theta_1 184 104 fixed;
    end;
    implementation bg
     submodels
      FlowSensor 216 559.9
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:50:53</TimeStamp>
</Description>
</Information>';
       knot FlowSensor
        ports
         power knot in p1 [1];
         power knot out p2 [1];
         signal knot out flow [1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse
        figures
         ellipse 209.1 552.8 222.9 567.1 color 0 fill 16777215;
         text 'f' 216 559.2 color 0;
       end;
       implementation eq
equations
	p2.f = p1.f;
	p1.e = p2.e;
	flow = p1.f;
implementation_end;
      Integrate 280 560
       description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
       type Integrate
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 264 544 296 576 color 0 fill 15132390;
         text '∫' 280 560.3 color 16711680 'Lucida Sans' 21 italic;
       end;
       implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
      MTF 504 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 656 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      MTF1 504 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 368 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;

implementation_end;
      plug linear_A 16 656;
      plug linear_B 592 656;
      plug rotational_A 24 368;
      plug rotational_B 608 368;
      plug theta_dot 24 560;
      plug theta_1 368 528;
      PowerDemux 104 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   output1 128 72 fixed;
   input 128 80 fixed;
   output2 128 88 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power in rotational_A [3,1];
   power out rotational_A_x;
   power out rotational_A_y;
   power out rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 104 272 104 464 color 0 width 2;
   rectangle 104 272 104 454 color -1;
   text '1' 104 475.3 color 8421504 8;
  terminals
   rotational_A 104 368 fixed;
   rotational_A_x 112 272 fixed;
   rotational_A_y 112 368 fixed;
   rotational_A_z 112 464 fixed;
 end;
 implementation eq
equations
	 rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	 rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   output1 128 64 fixed;
   input 128 72 fixed;
   output2 128 80 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power in input [3,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   output1 128 64 fixed;
   output2 128 72 fixed;
   output3 128 80 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e];
	input.f = [output1.f; output2.f; output3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power in input [4,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 80 fixed;
   output4 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e];
	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power in input [5,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 72 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power in input [6,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   output6 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power in input [7,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 72 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power in input [8,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   output8 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power out output9;
   power in input [9,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
   causality constraint not_equal output9 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 72 fixed;
   output6 128 80 fixed;
   output7 128 88 fixed;
   output8 128 96 fixed;
   output9 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;
						end;
      PowerMux 354 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   input1 128 72 fixed;
   output 128 80 fixed;
   input2 128 88 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in rotational_A_x;
   power out rotational_A [3,1];
   power in rotational_A_y;
   power in rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 352 272 352 464 color 0 width 2;
   rectangle 340 282.3 368 461.7 color -1;
   text '1' 371.5 484.3 color 8421504 8;
  terminals
   rotational_A_x 344 272 fixed;
   rotational_A 360 368 fixed;
   rotational_A_y 348 368 fixed;
   rotational_A_z 344 464 fixed;
 end;
 implementation eq
equations
	rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   input1 128 64 fixed;
   output 128 72 fixed;
   input2 128 80 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power out output [3,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   input1 128 64 fixed;
   input2 128 72 fixed;
   input3 128 80 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e];
	output.f = [input1.f; input2.f; input3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power out output [4,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 80 fixed;
   input4 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e];
	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power out output [5,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 72 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power out output [6,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   input6 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power out output [7,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 72 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power out output [8,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   input8 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power in input9;
   power out output [9,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
   causality constraint not_equal input9 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 72 fixed;
   input6 128 80 fixed;
   input7 128 88 fixed;
   input8 128 96 fixed;
   input9 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;
						end;
      R_AB 440 560
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         signal in theta;
         signal out R_AB [3,3];
       end;
       implementation eq
equations	
	R_AB = [cos(theta), -sin(theta), 0; 
				sin(theta), cos(theta), 0; 
				0, 0, 1];implementation_end;
      R_C 304 720
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x [3,1];
       end;
       icon bg
        figures
         rectangle 264 704 344 736 color 0 fill 15132390;
         text 'name' 304 720 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C1 224 208
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 192 264 224 color 0 fill 15132390;
         text 'name' 224 208 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C2 224 408
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 392 264 424 color 0 fill 15132390;
         text 'name' 224 408 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      Splitter 504 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 500.8 556.8 507.2 563.2 color -1 fill 0;
         ellipse 499.7 555.7 508.3 564.3 color -1;
        terminals
         input 504 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 368 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 364.8 556.8 371.2 563.2 color -1 fill 0;
         ellipse 363.7 555.7 372.3 564.3 color -1;
        terminals
         input 368 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 304 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 304 656 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 224 272
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 272 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 224 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 368 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 216 464
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 216 464 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      FlowSensor\flow -> Integrate\input;
      FlowSensor\p2 => ZeroJunction3\p;
      Integrate\output -> Splitter2\input;
      linear_A => ZeroJunction\p;
      MTF\p2 => linear_B;
      MTF1\p2 => rotational_B;
      PowerDemux\rotational_A_x => ZeroJunction1\p;
      PowerDemux\rotational_A_y => ZeroJunction2\p;
      PowerDemux\rotational_A_z => ZeroJunction3\p;
      PowerMux\rotational_A => MTF1\p1;
      R_AB\R_AB -> Splitter\input;
      rotational_A => PowerDemux\rotational_A;
      Splitter\output -> MTF\r;
      Splitter\output -> MTF1\r;
      Splitter2\output -> R_AB\theta;
      Splitter2\output -> theta_1;
      theta_dot => FlowSensor\p1;
      ZeroJunction\p => MTF\p1;
      ZeroJunction\p => R_C\x;
      ZeroJunction1\p => PowerMux\rotational_A_x;
      ZeroJunction1\p => R_C1\x;
      ZeroJunction2\p => PowerMux\rotational_A_y;
      ZeroJunction2\p |=> R_C2\x user;
      ZeroJunction3\p => PowerMux\rotational_A_z;
     end;
     figures
      text 'x' 120 256 color 0 16;
      text 'y' 120 344 color 0 16;
      text 'z' 120 440 color 0 16;
    implementation_end;
   Joint2 424 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
      power in theta_dot;
      signal out theta_2;
    end;
    icon bg
     figures
      rectangle 392 56 456 104 color 0 fill 15132390;
      text 'name' 424 80 color 0 16;
     terminals
      linear_A 392 56 fixed;
      linear_B 456 56 fixed;
      rotational_A 392 104 fixed;
      rotational_B 456 104 fixed;
      theta_dot 448 104 fixed;
      theta_2 400 104 fixed;
    end;
    implementation bg
     submodels
      FlowSensor 216 559.9
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:50:53</TimeStamp>
</Description>
</Information>';
       knot FlowSensor
        ports
         power knot in p1 [1];
         power knot out p2 [1];
         signal knot out flow [1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse
        figures
         ellipse 209.1 552.8 222.9 567.1 color 0 fill 16777215;
         text 'f' 216 559.2 color 0;
       end;
       implementation eq
equations
	p2.f = p1.f;
	p1.e = p2.e;
	flow = p1.f;
implementation_end;
      Integrate 280 560
       description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
       type Integrate
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 264 544 296 576 color 0 fill 15132390;
         text '∫' 280 560.3 color 16711680 'Lucida Sans' 21 italic;
       end;
       implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
      MTF 504 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 656 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      MTF1 504 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 368 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;

implementation_end;
      plug linear_A 16 656;
      plug linear_B 592 656;
      plug rotational_A 24 368;
      plug rotational_B 608 368;
      plug theta_dot 24 560;
      plug theta_2 368 528;
      PowerDemux 104 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   output1 128 72 fixed;
   input 128 80 fixed;
   output2 128 88 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power in rotational_A [3,1];
   power out rotational_A_x;
   power out rotational_A_y;
   power out rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 104 272 104 464 color 0 width 2;
   rectangle 104 272 104 454 color -1;
   text '1' 104 475.3 color 8421504 8;
  terminals
   rotational_A 104 368 fixed;
   rotational_A_x 112 272 fixed;
   rotational_A_y 112 368 fixed;
   rotational_A_z 112 464 fixed;
 end;
 implementation eq
equations
	 rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	 rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   output1 128 64 fixed;
   input 128 72 fixed;
   output2 128 80 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power in input [3,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   output1 128 64 fixed;
   output2 128 72 fixed;
   output3 128 80 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e];
	input.f = [output1.f; output2.f; output3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power in input [4,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 80 fixed;
   output4 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e];
	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power in input [5,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 72 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power in input [6,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   output6 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power in input [7,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 72 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power in input [8,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   output8 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power out output9;
   power in input [9,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
   causality constraint not_equal output9 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 72 fixed;
   output6 128 80 fixed;
   output7 128 88 fixed;
   output8 128 96 fixed;
   output9 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;
						end;
      PowerMux 354 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   input1 128 72 fixed;
   output 128 80 fixed;
   input2 128 88 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in rotational_A_x;
   power out rotational_A [3,1];
   power in rotational_A_y;
   power in rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 352 272 352 464 color 0 width 2;
   rectangle 340 282.3 368 461.7 color -1;
   text '1' 371.5 484.3 color 8421504 8;
  terminals
   rotational_A_x 344 272 fixed;
   rotational_A 360 368 fixed;
   rotational_A_y 348 368 fixed;
   rotational_A_z 344 464 fixed;
 end;
 implementation eq
equations
	rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   input1 128 64 fixed;
   output 128 72 fixed;
   input2 128 80 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power out output [3,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   input1 128 64 fixed;
   input2 128 72 fixed;
   input3 128 80 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e];
	output.f = [input1.f; input2.f; input3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power out output [4,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 80 fixed;
   input4 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e];
	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power out output [5,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 72 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power out output [6,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   input6 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power out output [7,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 72 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power out output [8,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   input8 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power in input9;
   power out output [9,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
   causality constraint not_equal input9 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 72 fixed;
   input6 128 80 fixed;
   input7 128 88 fixed;
   input8 128 96 fixed;
   input9 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;
						end;
      R_AB 440 560
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         signal in theta;
         signal out R_AB [3,3];
       end;
       implementation eq
equations	
	R_AB = [cos(theta), -sin(theta), 0; 
				sin(theta), cos(theta), 0; 
				0, 0, 1];implementation_end;
      R_C 304 720
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x [3,1];
       end;
       icon bg
        figures
         rectangle 264 704 344 736 color 0 fill 15132390;
         text 'name' 304 720 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C1 224 208
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 192 264 224 color 0 fill 15132390;
         text 'name' 224 208 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C2 224 408
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 392 264 424 color 0 fill 15132390;
         text 'name' 224 408 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      Splitter 504 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 500.8 556.8 507.2 563.2 color -1 fill 0;
         ellipse 499.7 555.7 508.3 564.3 color -1;
        terminals
         input 504 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 368 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 364.8 556.8 371.2 563.2 color -1 fill 0;
         ellipse 363.7 555.7 372.3 564.3 color -1;
        terminals
         input 368 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 304 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 304 656 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 224 272
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 272 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 224 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 368 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 216 464
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 216 464 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      FlowSensor\flow -> Integrate\input;
      FlowSensor\p2 => ZeroJunction3\p;
      Integrate\output -> Splitter2\input;
      linear_A => ZeroJunction\p;
      MTF\p2 => linear_B;
      MTF1\p2 => rotational_B;
      PowerDemux\rotational_A_x => ZeroJunction1\p;
      PowerDemux\rotational_A_y => ZeroJunction2\p;
      PowerDemux\rotational_A_z => ZeroJunction3\p;
      PowerMux\rotational_A => MTF1\p1;
      R_AB\R_AB -> Splitter\input;
      rotational_A => PowerDemux\rotational_A;
      Splitter\output -> MTF\r;
      Splitter\output -> MTF1\r;
      Splitter2\output -> R_AB\theta;
      Splitter2\output -> theta_2;
      theta_dot => FlowSensor\p1;
      ZeroJunction\p => MTF\p1;
      ZeroJunction\p |=> R_C\x user;
      ZeroJunction1\p => PowerMux\rotational_A_x;
      ZeroJunction1\p |=> R_C1\x user;
      ZeroJunction2\p => PowerMux\rotational_A_y;
      ZeroJunction2\p |=> R_C2\x user;
      ZeroJunction3\p => PowerMux\rotational_A_z;
     end;
     figures
      text 'x' 120 256 color 0 16;
      text 'y' 120 344 color 0 16;
      text 'z' 120 440 color 0 16;
    implementation_end;
   Joint3 680 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
      power in theta_dot;
      signal out theta_3;
    end;
    icon bg
     figures
      rectangle 648 56 712 104 color 0 fill 15132390;
      text 'name' 680 80 color 0 16;
     terminals
      linear_A 648 56 fixed;
      linear_B 712 56 fixed;
      rotational_A 648 104 fixed;
      rotational_B 712 104 fixed;
      theta_dot 704 104 fixed;
      theta_3 656 104 fixed;
    end;
    implementation bg
     submodels
      FlowSensor 216 559.9
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:50:53</TimeStamp>
</Description>
</Information>';
       knot FlowSensor
        ports
         power knot in p1 [1];
         power knot out p2 [1];
         signal knot out flow [1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse
        figures
         ellipse 209.1 552.8 222.9 567.1 color 0 fill 16777215;
         text 'f' 216 559.2 color 0;
       end;
       implementation eq
equations
	p2.f = p1.f;
	p1.e = p2.e;
	flow = p1.f;
implementation_end;
      Integrate 280 560
       description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
       type Integrate
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 264 544 296 576 color 0 fill 15132390;
         text '∫' 280 560.3 color 16711680 'Lucida Sans' 21 italic;
       end;
       implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
      MTF 504 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 656 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      MTF1 504 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 368 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;

implementation_end;
      plug linear_A 16 656;
      plug linear_B 592 656;
      plug rotational_A 24 368;
      plug rotational_B 608 368;
      plug theta_dot 24 560;
      plug theta_3 368 528;
      PowerDemux 104 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   output1 128 72 fixed;
   input 128 80 fixed;
   output2 128 88 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power in rotational_A [3,1];
   power out rotational_A_x;
   power out rotational_A_y;
   power out rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 104 272 104 464 color 0 width 2;
   rectangle 104 272 104 454 color -1;
   text '1' 104 475.3 color 8421504 8;
  terminals
   rotational_A 104 368 fixed;
   rotational_A_x 112 272 fixed;
   rotational_A_y 112 368 fixed;
   rotational_A_z 112 464 fixed;
 end;
 implementation eq
equations
	 rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	 rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   output1 128 64 fixed;
   input 128 72 fixed;
   output2 128 80 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power in input [3,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   output1 128 64 fixed;
   output2 128 72 fixed;
   output3 128 80 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e];
	input.f = [output1.f; output2.f; output3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power in input [4,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 80 fixed;
   output4 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e];
	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power in input [5,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 72 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power in input [6,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   output6 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power in input [7,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 72 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power in input [8,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   output8 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power out output9;
   power in input [9,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
   causality constraint not_equal output9 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 72 fixed;
   output6 128 80 fixed;
   output7 128 88 fixed;
   output8 128 96 fixed;
   output9 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;
						end;
      PowerMux 354 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   input1 128 72 fixed;
   output 128 80 fixed;
   input2 128 88 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in rotational_A_x;
   power out rotational_A [3,1];
   power in rotational_A_y;
   power in rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 352 272 352 464 color 0 width 2;
   rectangle 340 282.3 368 461.7 color -1;
   text '1' 371.5 484.3 color 8421504 8;
  terminals
   rotational_A_x 344 272 fixed;
   rotational_A 360 368 fixed;
   rotational_A_y 348 368 fixed;
   rotational_A_z 344 464 fixed;
 end;
 implementation eq
equations
	rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   input1 128 64 fixed;
   output 128 72 fixed;
   input2 128 80 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power out output [3,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   input1 128 64 fixed;
   input2 128 72 fixed;
   input3 128 80 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e];
	output.f = [input1.f; input2.f; input3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power out output [4,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 80 fixed;
   input4 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e];
	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power out output [5,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 72 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power out output [6,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   input6 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power out output [7,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 72 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power out output [8,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   input8 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power in input9;
   power out output [9,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
   causality constraint not_equal input9 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 72 fixed;
   input6 128 80 fixed;
   input7 128 88 fixed;
   input8 128 96 fixed;
   input9 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;
						end;
      R_AB 440 560
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         signal in theta;
         signal out R_AB [3,3];
       end;
       implementation eq
equations	
	R_AB = [cos(theta), -sin(theta), 0; 
				sin(theta), cos(theta), 0; 
				0, 0, 1];implementation_end;
      R_C 304 720
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x [3,1];
       end;
       icon bg
        figures
         rectangle 264 704 344 736 color 0 fill 15132390;
         text 'name' 304 720 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C1 224 208
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 192 264 224 color 0 fill 15132390;
         text 'name' 224 208 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C2 224 408
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 392 264 424 color 0 fill 15132390;
         text 'name' 224 408 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      Splitter 504 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 500.8 556.8 507.2 563.2 color -1 fill 0;
         ellipse 499.7 555.7 508.3 564.3 color -1;
        terminals
         input 504 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 368 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 364.8 556.8 371.2 563.2 color -1 fill 0;
         ellipse 363.7 555.7 372.3 564.3 color -1;
        terminals
         input 368 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 304 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 304 656 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 224 272
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 272 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 224 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 368 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 216 464
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 216 464 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      FlowSensor\flow -> Integrate\input;
      FlowSensor\p2 => ZeroJunction3\p;
      Integrate\output -> Splitter2\input;
      linear_A => ZeroJunction\p;
      MTF\p2 => linear_B;
      MTF1\p2 => rotational_B;
      PowerDemux\rotational_A_x => ZeroJunction1\p;
      PowerDemux\rotational_A_y => ZeroJunction2\p;
      PowerDemux\rotational_A_z => ZeroJunction3\p;
      PowerMux\rotational_A => MTF1\p1;
      R_AB\R_AB -> Splitter\input;
      rotational_A => PowerDemux\rotational_A;
      Splitter\output -> MTF\r;
      Splitter\output -> MTF1\r;
      Splitter2\output -> R_AB\theta;
      Splitter2\output -> theta_3;
      theta_dot => FlowSensor\p1;
      ZeroJunction\p => MTF\p1;
      ZeroJunction\p |=> R_C\x user;
      ZeroJunction1\p => PowerMux\rotational_A_x;
      ZeroJunction1\p |=> R_C1\x user;
      ZeroJunction2\p => PowerMux\rotational_A_y;
      ZeroJunction2\p |=> R_C2\x user;
      ZeroJunction3\p => PowerMux\rotational_A_z;
     end;
     figures
      text 'x' 120 256 color 0 16;
      text 'y' 120 344 color 0 16;
      text 'z' 120 440 color 0 16;
    implementation_end;
   Joint4 936 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
      power in theta_dot;
      signal out theta_4;
    end;
    icon bg
     figures
      rectangle 904 56 968 104 color 0 fill 15132390;
      text 'name' 936 80 color 0 16;
     terminals
      linear_A 904 56 fixed;
      linear_B 968 56 fixed;
      rotational_A 904 104 fixed;
      rotational_B 968 104 fixed;
      theta_dot 960 104 fixed;
      theta_4 912 104 fixed;
    end;
    implementation bg
     submodels
      FlowSensor 216 559.9
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:50:53</TimeStamp>
</Description>
</Information>';
       knot FlowSensor
        ports
         power knot in p1 [1];
         power knot out p2 [1];
         signal knot out flow [1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse
        figures
         ellipse 209.1 552.8 222.9 567.1 color 0 fill 16777215;
         text 'f' 216 559.2 color 0;
       end;
       implementation eq
equations
	p2.f = p1.f;
	p1.e = p2.e;
	flow = p1.f;
implementation_end;
      Integrate 280 560
       description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
       type Integrate
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 264 544 296 576 color 0 fill 15132390;
         text '∫' 280 560.3 color 16711680 'Lucida Sans' 21 italic;
       end;
       implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
      MTF 504 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 656 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      MTF1 504 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 368 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;

implementation_end;
      plug linear_A 16 656;
      plug linear_B 592 656;
      plug rotational_A 24 368;
      plug rotational_B 608 368;
      plug theta_dot 24 560;
      plug theta_4 368 528;
      PowerDemux 104 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   output1 128 72 fixed;
   input 128 80 fixed;
   output2 128 88 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power in rotational_A [3,1];
   power out rotational_A_x;
   power out rotational_A_y;
   power out rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 104 272 104 464 color 0 width 2;
   rectangle 104 272 104 454 color -1;
   text '1' 104 475.3 color 8421504 8;
  terminals
   rotational_A 104 368 fixed;
   rotational_A_x 112 272 fixed;
   rotational_A_y 112 368 fixed;
   rotational_A_z 112 464 fixed;
 end;
 implementation eq
equations
	 rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	 rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   output1 128 64 fixed;
   input 128 72 fixed;
   output2 128 80 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power in input [3,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   output1 128 64 fixed;
   output2 128 72 fixed;
   output3 128 80 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e];
	input.f = [output1.f; output2.f; output3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power in input [4,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 80 fixed;
   output4 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e];
	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power in input [5,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 72 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power in input [6,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   output6 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power in input [7,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 72 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power in input [8,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   output8 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power out output9;
   power in input [9,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
   causality constraint not_equal output9 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 72 fixed;
   output6 128 80 fixed;
   output7 128 88 fixed;
   output8 128 96 fixed;
   output9 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;
						end;
      PowerMux 354 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   input1 128 72 fixed;
   output 128 80 fixed;
   input2 128 88 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in rotational_A_x;
   power out rotational_A [3,1];
   power in rotational_A_y;
   power in rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 352 272 352 464 color 0 width 2;
   rectangle 340 282.3 368 461.7 color -1;
   text '1' 371.5 484.3 color 8421504 8;
  terminals
   rotational_A_x 344 272 fixed;
   rotational_A 360 368 fixed;
   rotational_A_y 348 368 fixed;
   rotational_A_z 344 464 fixed;
 end;
 implementation eq
equations
	rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   input1 128 64 fixed;
   output 128 72 fixed;
   input2 128 80 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power out output [3,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   input1 128 64 fixed;
   input2 128 72 fixed;
   input3 128 80 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e];
	output.f = [input1.f; input2.f; input3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power out output [4,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 80 fixed;
   input4 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e];
	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power out output [5,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 72 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power out output [6,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   input6 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power out output [7,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 72 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power out output [8,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   input8 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power in input9;
   power out output [9,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
   causality constraint not_equal input9 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 72 fixed;
   input6 128 80 fixed;
   input7 128 88 fixed;
   input8 128 96 fixed;
   input9 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;
						end;
      R_AB 440 560
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         signal in theta;
         signal out R_AB [3,3];
       end;
       implementation eq
equations	
	R_AB = [cos(theta), -sin(theta), 0; 
				sin(theta), cos(theta), 0; 
				0, 0, 1];implementation_end;
      R_C 304 720
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x [3,1];
       end;
       icon bg
        figures
         rectangle 264 704 344 736 color 0 fill 15132390;
         text 'name' 304 720 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C1 224 208
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 192 264 224 color 0 fill 15132390;
         text 'name' 224 208 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C2 224 408
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 392 264 424 color 0 fill 15132390;
         text 'name' 224 408 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      Splitter 504 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 500.8 556.8 507.2 563.2 color -1 fill 0;
         ellipse 499.7 555.7 508.3 564.3 color -1;
        terminals
         input 504 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 368 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 364.8 556.8 371.2 563.2 color -1 fill 0;
         ellipse 363.7 555.7 372.3 564.3 color -1;
        terminals
         input 368 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 304 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 304 656 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 224 272
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 272 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 224 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 368 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 216 464
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 216 464 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      FlowSensor\flow -> Integrate\input;
      FlowSensor\p2 => ZeroJunction3\p;
      Integrate\output -> Splitter2\input;
      linear_A => ZeroJunction\p;
      MTF\p2 => linear_B;
      MTF1\p2 => rotational_B;
      PowerDemux\rotational_A_x => ZeroJunction1\p;
      PowerDemux\rotational_A_y => ZeroJunction2\p;
      PowerDemux\rotational_A_z => ZeroJunction3\p;
      PowerMux\rotational_A => MTF1\p1;
      R_AB\R_AB -> Splitter\input;
      rotational_A => PowerDemux\rotational_A;
      Splitter\output -> MTF\r;
      Splitter\output -> MTF1\r;
      Splitter2\output -> R_AB\theta;
      Splitter2\output -> theta_4;
      theta_dot => FlowSensor\p1;
      ZeroJunction\p => MTF\p1;
      ZeroJunction\p |=> R_C\x user;
      ZeroJunction1\p => PowerMux\rotational_A_x;
      ZeroJunction1\p |=> R_C1\x user;
      ZeroJunction2\p => PowerMux\rotational_A_y;
      ZeroJunction2\p |=> R_C2\x user;
      ZeroJunction3\p => PowerMux\rotational_A_z;
     end;
     figures
      text 'x' 120 256 color 0 16;
      text 'y' 120 344 color 0 16;
      text 'z' 120 440 color 0 16;
    implementation_end;
   Joint5 1184 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
      power in theta_dot;
      signal out theta_5;
    end;
    icon bg
     figures
      rectangle 1152 56 1216 104 color 0 fill 15132390;
      text 'name' 1184 80 color 0 16;
     terminals
      linear_A 1152 56 fixed;
      linear_B 1216 56 fixed;
      rotational_A 1152 104 fixed;
      rotational_B 1216 104 fixed;
      theta_dot 1208 104 fixed;
      theta_5 1160 104 fixed;
    end;
    implementation bg
     submodels
      FlowSensor 216 559.9
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:50:53</TimeStamp>
</Description>
</Information>';
       knot FlowSensor
        ports
         power knot in p1 [1];
         power knot out p2 [1];
         signal knot out flow [1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse
        figures
         ellipse 209.1 552.8 222.9 567.1 color 0 fill 16777215;
         text 'f' 216 559.2 color 0;
       end;
       implementation eq
equations
	p2.f = p1.f;
	p1.e = p2.e;
	flow = p1.f;
implementation_end;
      Integrate 280 560
       description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
       type Integrate
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 264 544 296 576 color 0 fill 15132390;
         text '∫' 280 560.3 color 16711680 'Lucida Sans' 21 italic;
       end;
       implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
      MTF 504 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 656 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      MTF1 504 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 368 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;

implementation_end;
      plug linear_A 16 656;
      plug linear_B 592 656;
      plug rotational_A 24 368;
      plug rotational_B 608 368;
      plug theta_dot 24 560;
      plug theta_5 368 528;
      PowerDemux 104 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   output1 128 72 fixed;
   input 128 80 fixed;
   output2 128 88 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power in rotational_A [3,1];
   power out rotational_A_x;
   power out rotational_A_y;
   power out rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 104 272 104 464 color 0 width 2;
   rectangle 104 272 104 454 color -1;
   text '1' 104 475.3 color 8421504 8;
  terminals
   rotational_A 104 368 fixed;
   rotational_A_x 112 272 fixed;
   rotational_A_y 112 368 fixed;
   rotational_A_z 112 464 fixed;
 end;
 implementation eq
equations
	 rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	 rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   output1 128 64 fixed;
   input 128 72 fixed;
   output2 128 80 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power in input [3,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   output1 128 64 fixed;
   output2 128 72 fixed;
   output3 128 80 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e];
	input.f = [output1.f; output2.f; output3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power in input [4,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 80 fixed;
   output4 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e];
	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power in input [5,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 72 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power in input [6,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   output6 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power in input [7,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 72 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power in input [8,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   output8 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power out output9;
   power in input [9,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
   causality constraint not_equal output9 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 72 fixed;
   output6 128 80 fixed;
   output7 128 88 fixed;
   output8 128 96 fixed;
   output9 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;
						end;
      PowerMux 354 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   input1 128 72 fixed;
   output 128 80 fixed;
   input2 128 88 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in rotational_A_x;
   power out rotational_A [3,1];
   power in rotational_A_y;
   power in rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 352 272 352 464 color 0 width 2;
   rectangle 340 282.3 368 461.7 color -1;
   text '1' 371.5 484.3 color 8421504 8;
  terminals
   rotational_A_x 344 272 fixed;
   rotational_A 360 368 fixed;
   rotational_A_y 348 368 fixed;
   rotational_A_z 344 464 fixed;
 end;
 implementation eq
equations
	rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   input1 128 64 fixed;
   output 128 72 fixed;
   input2 128 80 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power out output [3,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   input1 128 64 fixed;
   input2 128 72 fixed;
   input3 128 80 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e];
	output.f = [input1.f; input2.f; input3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power out output [4,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 80 fixed;
   input4 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e];
	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power out output [5,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 72 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power out output [6,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   input6 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power out output [7,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 72 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power out output [8,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   input8 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power in input9;
   power out output [9,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
   causality constraint not_equal input9 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 72 fixed;
   input6 128 80 fixed;
   input7 128 88 fixed;
   input8 128 96 fixed;
   input9 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;
						end;
      R_AB 440 560
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         signal in theta;
         signal out R_AB [3,3];
       end;
       implementation eq
equations	
	R_AB = [cos(theta), -sin(theta), 0; 
				sin(theta), cos(theta), 0; 
				0, 0, 1];implementation_end;
      R_C 304 720
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x [3,1];
       end;
       icon bg
        figures
         rectangle 264 704 344 736 color 0 fill 15132390;
         text 'name' 304 720 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C1 224 208
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 192 264 224 color 0 fill 15132390;
         text 'name' 224 208 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C2 224 408
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 392 264 424 color 0 fill 15132390;
         text 'name' 224 408 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      Splitter 504 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 500.8 556.8 507.2 563.2 color -1 fill 0;
         ellipse 499.7 555.7 508.3 564.3 color -1;
        terminals
         input 504 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 368 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 364.8 556.8 371.2 563.2 color -1 fill 0;
         ellipse 363.7 555.7 372.3 564.3 color -1;
        terminals
         input 368 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 304 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 304 656 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 224 272
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 272 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 224 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 368 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 216 464
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 216 464 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      FlowSensor\flow -> Integrate\input;
      FlowSensor\p2 => ZeroJunction3\p;
      Integrate\output -> Splitter2\input;
      linear_A => ZeroJunction\p;
      MTF\p2 => linear_B;
      MTF1\p2 => rotational_B;
      PowerDemux\rotational_A_x => ZeroJunction1\p;
      PowerDemux\rotational_A_y => ZeroJunction2\p;
      PowerDemux\rotational_A_z => ZeroJunction3\p;
      PowerMux\rotational_A => MTF1\p1;
      R_AB\R_AB -> Splitter\input;
      rotational_A => PowerDemux\rotational_A;
      Splitter\output -> MTF\r;
      Splitter\output -> MTF1\r;
      Splitter2\output -> R_AB\theta;
      Splitter2\output -> theta_5;
      theta_dot => FlowSensor\p1;
      ZeroJunction\p => MTF\p1;
      ZeroJunction\p |=> R_C\x user;
      ZeroJunction1\p => PowerMux\rotational_A_x;
      ZeroJunction1\p |=> R_C1\x user;
      ZeroJunction2\p => PowerMux\rotational_A_y;
      ZeroJunction2\p |=> R_C2\x user;
      ZeroJunction3\p => PowerMux\rotational_A_z;
     end;
     figures
      text 'x' 120 256 color 0 16;
      text 'y' 120 344 color 0 16;
      text 'z' 120 440 color 0 16;
    implementation_end;
   Joint6 1408 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
      power in theta_dot;
      signal out theta_6;
    end;
    icon bg
     figures
      rectangle 1376 56 1440 104 color 0 fill 15132390;
      text 'name' 1408 80 color 0 16;
     terminals
      linear_A 1376 56 fixed;
      linear_B 1440 56 fixed;
      rotational_A 1376 104 fixed;
      rotational_B 1440 104 fixed;
      theta_dot 1432 104 fixed;
      theta_6 1384 104 fixed;
    end;
    implementation bg
     submodels
      FlowSensor 216 559.9
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:50:53</TimeStamp>
</Description>
</Information>';
       knot FlowSensor
        ports
         power knot in p1 [1];
         power knot out p2 [1];
         signal knot out flow [1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse
        figures
         ellipse 209.1 552.8 222.9 567.1 color 0 fill 16777215;
         text 'f' 216 559.2 color 0;
       end;
       implementation eq
equations
	p2.f = p1.f;
	p1.e = p2.e;
	flow = p1.f;
implementation_end;
      Integrate 280 560
       description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
       type Integrate
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 264 544 296 576 color 0 fill 15132390;
         text '∫' 280 560.3 color 16711680 'Lucida Sans' 21 italic;
       end;
       implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
      MTF 504 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 656 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      MTF1 504 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:15:31</TimeStamp>
</Description>
</Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 504 368 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;

implementation_end;
      plug linear_A 16 656;
      plug linear_B 592 656;
      plug rotational_A 24 368;
      plug rotational_B 608 368;
      plug theta_dot 24 560;
      plug theta_6 368 528;
      PowerDemux 104 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   output1 128 72 fixed;
   input 128 80 fixed;
   output2 128 88 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power in rotational_A [3,1];
   power out rotational_A_x;
   power out rotational_A_y;
   power out rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 104 272 104 464 color 0 width 2;
   rectangle 104 272 104 454 color -1;
   text '1' 104 475.3 color 8421504 8;
  terminals
   rotational_A 104 368 fixed;
   rotational_A_x 112 272 fixed;
   rotational_A_y 112 368 fixed;
   rotational_A_z 112 464 fixed;
 end;
 implementation eq
equations
	 rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	 rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power in input [2,1];
   power out output2;
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   output1 128 64 fixed;
   input 128 72 fixed;
   output2 128 80 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e];
	input.f = [output1.f; output2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power in input [3,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   output1 128 64 fixed;
   output2 128 72 fixed;
   output3 128 80 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e];
	input.f = [output1.f; output2.f; output3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power in input [4,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 80 fixed;
   output4 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e];
	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power in input [5,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   output1 128 56 fixed;
   output2 128 64 fixed;
   output3 128 72 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power in input [6,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 80 fixed;
   output5 128 88 fixed;
   output6 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power in input [7,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   output1 128 48 fixed;
   output2 128 56 fixed;
   output3 128 64 fixed;
   output4 128 72 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power in input [8,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 80 fixed;
   output6 128 88 fixed;
   output7 128 96 fixed;
   output8 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerDemux
  ports
   power out output1;
   power out output2;
   power out output3;
   power out output4;
   power out output5;
   power out output6;
   power out output7;
   power out output8;
   power out output9;
   power in input [9,1];
  restrictions
   causality constraint not_equal output1 input;
   causality constraint not_equal output2 input;
   causality constraint not_equal output3 input;
   causality constraint not_equal output4 input;
   causality constraint not_equal output5 input;
   causality constraint not_equal output6 input;
   causality constraint not_equal output7 input;
   causality constraint not_equal output8 input;
   causality constraint not_equal output9 input;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   output1 128 40 fixed;
   output2 128 48 fixed;
   output3 128 56 fixed;
   output4 128 64 fixed;
   output5 128 72 fixed;
   output6 128 80 fixed;
   output7 128 88 fixed;
   output8 128 96 fixed;
   output9 128 104 fixed;
   input 128 72 fixed;
 end;
 implementation eq
equations
	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;
	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;
						end;
      PowerMux 354 368
						specifications active 'inputs_1'
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>
  <TimeStamp>2011-10-5 22:44:58</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 64 128 96 color 0 width 2;
   rectangle 124 64 132 96 color -1;
   text '2' 133 91 color 8421504 8;
  terminals
   input1 128 72 fixed;
   output 128 80 fixed;
   input2 128 88 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_1'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in rotational_A_x;
   power out rotational_A [3,1];
   power in rotational_A_y;
   power in rotational_A_z;
  restrictions
   causality constraint not_equal rotational_A_x rotational_A;
 end;
 icon bg bottom
  figures
   line 352 272 352 464 color 0 width 2;
   rectangle 340 282.3 368 461.7 color -1;
   text '1' 371.5 484.3 color 8421504 8;
  terminals
   rotational_A_x 344 272 fixed;
   rotational_A 360 368 fixed;
   rotational_A_y 348 368 fixed;
   rotational_A_z 344 464 fixed;
 end;
 implementation eq
equations
	rotational_A.e = [rotational_A_x.e; rotational_A_y.e; rotational_A_z.e];
	rotational_A.f = [rotational_A_x.f; rotational_A_y.f; rotational_A_z.f];implementation_end;
specification_end;
							specification 'inputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power out output [2,1];
   power in input2;
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '2' 133 83 color 8421504 8;
  terminals
   input1 128 64 fixed;
   output 128 72 fixed;
   input2 128 80 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e];
	output.f = [input1.f; input2.f];implementation_end;
specification_end;
							specification 'inputs_3'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power out output [3,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
 end;
 icon bg bottom
  figures
   line 128 56 128 88 width 2;
   rectangle 124 56 132 88 color -1;
   text '3' 133 82 color 8421504 8;
  terminals
   input1 128 64 fixed;
   input2 128 72 fixed;
   input3 128 80 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e];
	output.f = [input1.f; input2.f; input3.f];implementation_end;
specification_end;
							specification 'inputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power out output [4,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '4' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 80 fixed;
   input4 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e];
	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;
specification_end;
							specification 'inputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power out output [5,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
 end;
 icon bg bottom
  figures
   line 128 48 128 96 width 2;
   rectangle 124 48 132 96 color -1;
   text '5' 133 83 color 8421504 8;
  terminals
   input1 128 56 fixed;
   input2 128 64 fixed;
   input3 128 72 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;
specification_end;
							specification 'inputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power out output [6,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '6' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 80 fixed;
   input5 128 88 fixed;
   input6 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;
specification_end;
							specification 'inputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power out output [7,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
 end;
 icon bg bottom
  figures
   line 128 40 128 104 width 2;
   rectangle 124 40 132 104 color -1;
   text '7' 133 83 color 8421504 8;
  terminals
   input1 128 48 fixed;
   input2 128 56 fixed;
   input3 128 64 fixed;
   input4 128 72 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;
specification_end;
							specification 'inputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power out output [8,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   rectangle 124 32 132 112 color -1;
   text '8' 133 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 80 fixed;
   input6 128 88 fixed;
   input7 128 96 fixed;
   input8 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;
specification_end;
							specification 'inputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type PowerMux
  ports
   power in input1;
   power in input2;
   power in input3;
   power in input4;
   power in input5;
   power in input6;
   power in input7;
   power in input8;
   power in input9;
   power out output [9,1];
  restrictions
   causality constraint not_equal input1 output;
   causality constraint not_equal input2 output;
   causality constraint not_equal input3 output;
   causality constraint not_equal input4 output;
   causality constraint not_equal input5 output;
   causality constraint not_equal input6 output;
   causality constraint not_equal input7 output;
   causality constraint not_equal input8 output;
   causality constraint not_equal input9 output;
 end;
 icon bg bottom
  figures
   line 128 32 128 112 width 2;
   text '9' 132 83 color 8421504 8;
  terminals
   input1 128 40 fixed;
   input2 128 48 fixed;
   input3 128 56 fixed;
   input4 128 64 fixed;
   input5 128 72 fixed;
   input6 128 80 fixed;
   input7 128 88 fixed;
   input8 128 96 fixed;
   input9 128 104 fixed;
   output 128 72 fixed;
 end;
 implementation eq
equations
	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;
	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;
						end;
      R_AB 440 560
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         signal in theta;
         signal out R_AB [3,3];
       end;
       implementation eq
equations	
	R_AB = [cos(theta), -sin(theta), 0; 
				sin(theta), cos(theta), 0; 
				0, 0, 1];implementation_end;
      R_C 304 720
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x [3,1];
       end;
       icon bg
        figures
         rectangle 264 704 344 736 color 0 fill 15132390;
         text 'name' 304 720 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C1 224 208
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 192 264 224 color 0 fill 15132390;
         text 'name' 224 208 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      R_C2 224 408
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description></Information>';
       type 'Submodel-Equation'
        ports
         power in x;
       end;
       icon bg
        figures
         rectangle 184 392 264 424 color 0 fill 15132390;
         text 'name' 224 408 color 0 16;
       end;
       implementation eq
equations
	// start typing here
	x.e = constraint(x.f);
 implementation_end;
      Splitter 504 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 500.8 556.8 507.2 563.2 color -1 fill 0;
         ellipse 499.7 555.7 508.3 564.3 color -1;
        terminals
         input 504 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 368 560
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 364.8 556.8 371.2 563.2 color -1 fill 0;
         ellipse 363.7 555.7 372.3 564.3 color -1;
        terminals
         input 368 560 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 304 656
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 304 656 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 224 272
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 272 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 224 368
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 224 368 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 216 464
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 216 464 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      FlowSensor\flow -> Integrate\input;
      FlowSensor\p2 => ZeroJunction3\p;
      Integrate\output -> Splitter2\input;
      linear_A => ZeroJunction\p;
      MTF\p2 => linear_B;
      MTF1\p2 => rotational_B;
      PowerDemux\rotational_A_x => ZeroJunction1\p;
      PowerDemux\rotational_A_y => ZeroJunction2\p;
      PowerDemux\rotational_A_z => ZeroJunction3\p;
      PowerMux\rotational_A => MTF1\p1;
      R_AB\R_AB -> Splitter\input;
      rotational_A => PowerDemux\rotational_A;
      Splitter\output -> MTF\r;
      Splitter\output -> MTF1\r;
      Splitter2\output -> R_AB\theta;
      Splitter2\output -> theta_6;
      theta_dot => FlowSensor\p1;
      ZeroJunction\p => MTF\p1;
      ZeroJunction\p |=> R_C\x user;
      ZeroJunction1\p => PowerMux\rotational_A_x;
      ZeroJunction1\p |=> R_C1\x user;
      ZeroJunction2\p => PowerMux\rotational_A_y;
      ZeroJunction2\p |=> R_C2\x user;
      ZeroJunction3\p => PowerMux\rotational_A_z;
     end;
     figures
      text 'x' 120 256 color 0 16;
      text 'y' 120 344 color 0 16;
      text 'z' 120 440 color 0 16;
    implementation_end;
   Link1 312 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters

	real global DH[6,4];
	real m1 = 3.7;
	real r_CG_1[3,1] = [0.0; -0.02561; 0.00193];
	
	real global cos_alpha_1;
	real global sin_alpha_1;
   real global cos_theta_1;
	real global sin_theta_1;

	// Homogeneous transformation matrix from the base frame to the frame of link 1
	real global H_0_1[4,4];

variables

   real T_r_CG_1[4,4]; // Transformation matrix to shift a point to the center of gravity of link 1
	real H_0_G1_init[4,4]; // Transformation matrix from 0 to the center of gravity of link 1
	real T_a1[4,4]; // Matrix that shifts a point along the x-axis based on the value in DH (0)
	real R_alpha_1[4,4]; // Rotation matrix along the x-axis defined by the values in DH
   real H_A_G_1[4,4]; // Homogeneous transformation from point A to the center of gravity of link 1
   real H_G_A_1[4,4]; // Inverse transformation matrix to move from the CoG frame back to point A
   real r_GA_1[3,1]; // This represents the vector from the CoG to point A on the link
   real T_r_CG_1_inverse[4,4]; // Inverse of the transformation matrix that moves to the CoG
   real T_d2[4,4]; // Matrix that shifts a point along the z-axis based on the value in DH (0)
   real H_G_B_1[4,4]; // Homogeneous transformation from the center of gravity to the frame B
   real r_GB_1[3,1]; // This represents the vector from the CoG to point B on the link


equations
	// Transformation matrix to shift a point to the center of gravity of link 1
	T_r_CG_1 = [1, 0, 0, r_CG_1[1,1];
				0, 1, 0, r_CG_1[2,1];
				0, 0, 1, r_CG_1[3,1];
				0, 0, 0, 1];

	// Transformation matrix from the base to the center of gravity of link 1
	H_0_G1_init = H_0_1 * T_r_CG_1;

	// Matrix that shifts a point along the x-axis based on the value in DH (0)
	T_a1 = [1, 0, 0, DH[1,3];
			  0, 1, 0, 0;
			  0, 0, 1, 0;
  			  0, 0, 0, 1];

	// Rotation matrix along the x-axis defined by the values in DH
	R_alpha_1 = [1, 0, 0, 0;
					0, cos_alpha_1, -sin_alpha_1, 0;
					0, sin_alpha_1, cos_alpha_1, 0;
					0, 0, 0, 1];	
		
	// Homogeneous transformation from point A to the center of gravity of link 1
	H_A_G_1 = T_a1 * R_alpha_1 * T_r_CG_1;

	// Inverse transformation matrix to move from the CoG frame back to point A
	H_G_A_1 = inverse(H_A_G_1);

	// This represents the vector from the CoG to point A on the link
	r_GA_1 = H_G_A_1[1:3,4];

	// Inverse of the transformation matrix that moves to the CoG
	T_r_CG_1_inverse = inverse(T_r_CG_1);

	// Matrix that shifts a point along the z-axis based on the value in DH (0)
	T_d2 = [1, 0, 0, 0;
			  0, 1, 0, 0;
			  0, 0, 1, DH[2,2];
			  0, 0, 0, 1];

	// Homogeneous transformation from the center of gravity to the frame B
	H_G_B_1 = T_r_CG_1_inverse * T_d2;

	// This represents the vector from the CoG to point B on the link
	r_GB_1 = H_G_B_1[1:3,4];</GlobalRelations></Attributes></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
    end;
    icon bg
     figures
      rectangle 280 56 344 104 color 0 fill 15132390;
      text 'name' 312 80 color 0 16;
     terminals
      linear_A 280 56 fixed;
      linear_B 344 56 fixed;
      rotational_A 280 104 fixed;
      rotational_B 344 104 fixed;
    end;
    implementation bg
     submodels
      EULER_EQUATIONS 528 264
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters
	//rotational intertia of link 1
	real J1[3,3] = [0.0067, 0, 0;
						 0, 0.00640, 0;
						 0, 0, 0.0067];</GlobalRelations></Attributes></Information>';
       type 'Submodel-Equation'
        ports
         power in rotation [3,1];
         power in translation [3,1];
         signal out P_OG [3,1];
         signal out R_OG [3,3];
       end;
       icon bg
        figures
         rectangle 456 248 600 280 color 0 fill 15132390;
         text 'name' 528 264 color 0 16;
        terminals
         rotation 456 264 fixed;
         translation 528 280 fixed;
         P_OG 528 248 fixed;
         R_OG 600 264 fixed;
       end;
       implementation eq
parameters
	real global m1; //mass of the link
	real global J1[3,3]; //rotational inertia of the link

variables
	real v[3,1], omega[3,1]; //linear and angular velocity
	real p[3,1], h[3,1];	//linear and angular momentum
	real R_OG_0[3,3]; //rotation component of transformation matrix
	real P_OG_0[3,1]; //position component of transformation matrix
	real global H_0_G1_init[4,4]; //homogeneous transformation matrix
	
equations
	// Inizialization of rotation and translation part of H_O_G1
	R_OG_0 = H_0_G1_init[1:3, 1:3];
	P_OG_0 = H_0_G1_init[1:3, 4];
	
	v = translation.f; //velocity is the flow of the translation component
	omega = rotation.f; //angular velocity is the flow of the rotation component
	
	p = int(translation.e - skew(omega)*p); //linear momentum law
	h = int(rotation.e - skew(omega)*h); //angular momentum law
	
	R_OG = int(R_OG * skew(omega), R_OG_0); //new orientation of the link
	P_OG = int(R_OG * v, P_OG_0); //new position of the link
	
	translation.f = p/m1; //output linear velocity
	rotation.f = inverse(J1)*h; //output rotational velocity
	

	

	
	
implementation_end;
      Gravity_applied 728 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type Se
        ports
         power out p [3,1];
        restrictions
         causality fixed out p;
        parameters
         real g = 9.81;
       end;
       icon bg ellipse bottom
        figures
         text 'Se' 728 336 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m1;
	real e[3,1] = [0; 0; -m1*g];
variables
	real f [3,1];
equations
	p.e = e; 
	f = p.f;
implementation_end;
      minus_skew_r_GB 160 456
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 160 456 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GB_1[3,1];
equations
	p1.e = transpose(-skew(r_GB_1)) * p2.e;
	p2.f = -skew(r_GB_1) * p1.f;
implementation_end;
      plug linear_A 280 392;
      plug linear_B 528 520;
      plug rotational_A 0 264;
      plug rotational_B 160 184;
      OneJunction 160 264
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 160 264 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 528 336
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 528 336 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction2 160 336
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 160 336 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R_alpha 96 264
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 96 264 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_1[4,4];
	real r[3,3];
equations					
	r = R_alpha_1[1:3, 1:3];
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      R_alpha1 368 392
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 368 392 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_1[4,4];
	real r[3,3];
equations
	r = R_alpha_1[1:3, 1:3];	
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
	



implementation_end;
      R_OG 648 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 648 336 color 0 18 bold;
       end;
       implementation eq
variables
	real r_trans[3,3];

equations
	r_trans = transpose(r);
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      skew_r_GA 256 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 256 336 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GA_1[3,1];
	
equations		
	p1.e = transpose(skew(r_GA_1)) * p2.e;
	p2.f = skew(r_GA_1) * p1.f;


implementation_end;
      Splitter1 648 264
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 644.8 260.8 651.2 267.2 color -1 fill 0;
         ellipse 643.7 259.7 652.3 268.3 color -1;
        terminals
         input 648 264 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      v_B 528 456
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:45:16</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 528 456 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction 368 336
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 368 336 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      EULER_EQUATIONS\R_OG -> Splitter1\input;
      Gravity_applied\p => R_OG\p1;
      linear_A => R_alpha1\p1;
      minus_skew_r_GB\p1 <= OneJunction2\p;
      minus_skew_r_GB\p2 => v_B\p;
      OneJunction\p => EULER_EQUATIONS\rotation;
      OneJunction1\p => EULER_EQUATIONS\translation;
      OneJunction1\p => v_B\p;
      OneJunction2\p => OneJunction\p;
      R_alpha\p1 <= rotational_A;
      R_alpha\p2 => OneJunction\p;
      R_alpha1\p2 => ZeroJunction\p;
      R_OG\p2 => OneJunction1\p;
      rotational_B <= OneJunction\p;
      skew_r_GA\p1 <= OneJunction2\p;
      skew_r_GA\p2 => ZeroJunction\p;
      Splitter1\output -> R_OG\r;
      v_B\p => linear_B;
      ZeroJunction\p => OneJunction1\p;
     end;
     figures
      text 'v_G' 496 360 color 0 16;
      text 'v_A = v_G + skew(r_GA) x w' 376 312 color 0;
      text 'v_B = v_G + skew(r_GB) x w' 600 456 color 0;
    implementation_end;
   Link2 552 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters

	real global DH[6,4];
	real m2 = 8.393;
	real r_CG_2[3,1] = [0.2125, 0.0, 0.11336];
	
	real global cos_alpha_2;
	real global sin_alpha_2;
   real global cos_theta_2;
	real global sin_theta_2;

	// Homogeneous transformation matrix from the base frame to the frame of link 1
	real global H_0_1[4,4];

	// Homogeneous transformation matrix from the frame of link 1 to the frame of link 2
	real global H_1_2[4,4];

variables

   real T_r_CG_2[4,4]; // Transformation matrix to shift a point to the center of gravity of link 2
	real H_0_G2_init[4,4]; // Transformation matrix from link 0 to the center of gravity of link 2
	real T_a2[4,4]; // Matrix that shifts a point along the x-axis based on the value in DH (0)
	real R_alpha_2[4,4]; // Rotation matrix along the x-axis defined by the values in DH
   real H_A_G_2[4,4]; // Homogeneous transformation from point A to the center of gravity of link 2
   real H_G_A_2[4,4]; // Inverse transformation matrix to move from the CoG frame back to point A
   real r_GA_2[3,1]; // This represents the vector from the CoG to point A on the link
   real T_r_CG_2_inverse[4,4]; // Inverse of the transformation matrix that moves to the CoG
   real T_d3[4,4]; // Matrix that shifts a point along the z-axis based on the value in DH (0)
   real H_G_B_2[4,4]; // Homogeneous transformation from the center of gravity to the frame B
   real r_GB_2[3,1]; // This represents the vector from the CoG to point B on the link


equations
	// Transformation matrix to shift a point to the center of gravity of link 2
	T_r_CG_2 = [1, 0, 0, r_CG_2[1,1];
				0, 1, 0, r_CG_2[2,1];
				0, 0, 1, r_CG_2[3,1];
				0, 0, 0, 1];

	// Transformation matrix from link 1 to the center of gravity of link 2
	H_0_G2_init = H_0_1 * H_1_2 * T_r_CG_2;

	// Matrix that shifts a point along the x-axis based on the value in DH (0)
	T_a2 = [1, 0, 0, DH[2,3];
			  0, 1, 0, 0;
			  0, 0, 1, 0;
  			  0, 0, 0, 1];

	// Rotation matrix along the x-axis defined by the values in DH
	R_alpha_2 = [1, 0, 0, 0;
					0, cos_alpha_2, -sin_alpha_2, 0;
					0, sin_alpha_2, cos_alpha_2, 0;
					0, 0, 0, 1];
		
	// Homogeneous transformation from point A to the center of gravity of link 2
	H_A_G_2 = T_a2 * R_alpha_2 * T_r_CG_2;

	// Inverse transformation matrix to move from the CoG frame back to point A
	H_G_A_2 = inverse(H_A_G_2);

	// This represents the vector from the CoG to point A on the link
	r_GA_2 = H_G_A_2[1:3,4];

	// Inverse of the transformation matrix that moves to the CoG
	T_r_CG_2_inverse = inverse(T_r_CG_2);

	// Matrix that shifts a point along the z-axis based on the value in DH (0)
	T_d3 = [1, 0, 0, 0;
			  0, 1, 0, 0;
			  0, 0, 1, DH[3,2];
			  0, 0, 0, 1];

	// Homogeneous transformation from the center of gravity to the frame B
	H_G_B_2 = T_r_CG_2_inverse * T_d3;

	// This represents the vector from the CoG to point B on the link
	r_GB_2 = H_G_B_2[1:3,4];</GlobalRelations></Attributes></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
    end;
    icon bg
     figures
      rectangle 520 56 584 104 color 0 fill 15132390;
      text 'name' 552 80 color 0 16;
     terminals
      linear_A 520 56 fixed;
      linear_B 584 56 fixed;
      rotational_A 520 104 fixed;
      rotational_B 584 104 fixed;
    end;
    implementation bg
     submodels
      EULER_EQUATIONS 528 264
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters
	//rotational intertia of link 1
	real J2[3,3] = [0.0149, 0, 0;
						 0, 0.3564, 0;
						 0, 0, 0.3553];
</GlobalRelations></Attributes></Information>';
       type 'Submodel-Equation'
        ports
         power in rotation [3,1];
         power in translation [3,1];
         signal out P_OG [3,1];
         signal out R_OG [3,3];
       end;
       implementation eq
parameters
	real global m2; //mass of the link
	real global J2[3,3]; //rotational inertia of the link

variables
	real v[3,1]; //linear velocity
	real omega[3,1]; //angular velocity
	real p[3,1];	//linear momentum
	real h[3,1]; // angular momentum
	real R_OG_0[3,3]; //rotation component of transformation matrix
	real P_OG_0[3,1]; //position component of transformation matrix
	real global H_0_G2_init[4,4]; //homogeneous transformation matrix
	
equations
	R_OG_0 = H_0_G2_init[1:3, 1:3];
	P_OG_0 = H_0_G2_init[1:3, 4];
	
	v = translation.f; //velocity is the flow of the translation component
	omega = rotation.f; //angular velocity is the flow of the rotation component
	p = int(translation.e - skew(omega)*p); //linear momentum law
	h = int(rotation.e - skew(omega)*h); //angular momentum law
	R_OG = int(R_OG * skew(omega), R_OG_0); //new orientation of the link
	P_OG = int(R_OG * v, P_OG_0); //new position of the link
	translation.f = p/m2; //output linear velocity
	rotation.f = inverse(J2)*h; //output rotational velocity
	


variables
    real P_anchor[3,1]; // fixed origin

equations
    P_anchor = [0.0; 0.0; 0.0]; // hold the origin fixed

// Adjust visualization frame for correct rotation center (e.g. around joint axis)

parameters
    real r_offset[3,1] = [0.0; 0.0; 0.02]; // offset from CoG to desired rotation center (in local link frame)

variables
    real P_rot[3,1]; // adjusted origin for 3D frame
    real R_rot[3,3]; // same orientation as link

equations
    P_rot = P_OG + R_OG * r_offset; // move visualization origin from CoG to joint
    R_rot = R_OG;                   // apply dynamic orientation

	


	
	
implementation_end;
      Gravity_applied 776 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type Se
        ports
         power out p [3,1];
        restrictions
         causality fixed out p;
        parameters
         real g = 9.81;
       end;
       icon bg ellipse bottom
        figures
         text 'Se' 776 344 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m2;
	real e[3,1] = [0; 0; -m2*g];
variables
	real f [3,1];
equations
	p.e = e; 
	f = p.f;
implementation_end;
      minus_skew_r_GB 168 448
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 168 448 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GB_2[3,1];
equations
	p1.e = transpose(-skew(r_GB_2)) * p2.e;
	p2.f = -skew(r_GB_2) * p1.f;
implementation_end;
      plug linear_A 296 392;
      plug linear_B 528 520;
      plug rotational_A 0 264;
      plug rotational_B 168 184;
      OneJunction 168 264
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 168 264 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 528 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 528 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction2 168 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 168 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R_alpha 88 264
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 88 264 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_2[4,4];
	real r[3,3];
equations					
	r = R_alpha_2[1:3, 1:3];
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      R_alpha1 368 392
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 368 392 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_2[4,4];
	real r[3,3];
equations
	r = R_alpha_2[1:3, 1:3];	
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
	



implementation_end;
      R_OG 688 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 688 344 color 0 18 bold;
       end;
       implementation eq
variables
	real r_trans[3,3];

equations
	r_trans = transpose(r);
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      skew_r_GA 264 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 264 344 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GA_2[3,1];
	
equations		
	p1.e = transpose(skew(r_GA_2)) * p2.e;
	p2.f = skew(r_GA_2) * p1.f;


implementation_end;
      Splitter1 688 264
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 684.8 260.8 691.2 267.2 color -1 fill 0;
         ellipse 683.7 259.7 692.3 268.3 color -1;
        terminals
         input 688 264 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 368 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 368 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 528 448
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 528 448 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      EULER_EQUATIONS\R_OG -> Splitter1\input;
      Gravity_applied\p => R_OG\p1;
      linear_A => R_alpha1\p1;
      minus_skew_r_GB\p1 <= OneJunction2\p;
      minus_skew_r_GB\p2 => ZeroJunction1\p;
      OneJunction\p => EULER_EQUATIONS\rotation;
      OneJunction1\p => EULER_EQUATIONS\translation;
      OneJunction1\p => ZeroJunction1\p;
      OneJunction2\p => OneJunction\p;
      R_alpha\p1 <= rotational_A;
      R_alpha\p2 => OneJunction\p;
      R_alpha1\p2 => ZeroJunction\p;
      R_OG\p2 => OneJunction1\p;
      rotational_B <= OneJunction\p;
      skew_r_GA\p1 <= OneJunction2\p;
      skew_r_GA\p2 => ZeroJunction\p;
      Splitter1\output -> R_OG\r;
      ZeroJunction\p => OneJunction1\p;
      ZeroJunction1\p => linear_B;
     end;
     figures
      text 'v_G' 504 368 color 0 16;
      text 'v_A = v_G + skew(r_GA) x w' 368 320 color 0;
      text 'v_B = v_G + skew(r_GB) x w' 600 448 color 0;
    implementation_end;
   Link3 808 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters

	real global DH[6,4];
	real m3 = 2.33;
	real r_CG_3[3,1] = [0.15, 0.0, 0.0265];
	
	real global cos_alpha_3;
	real global sin_alpha_3;
   real global cos_theta_3;
	real global sin_theta_3;

	// Homogeneous transformation matrix from the base frame to the frame of link 1
	real global H_0_1[4,4];

	// Homogeneous transformation matrix from the frame of link 1 to the frame of link 2
	real global H_1_2[4,4];

	// Homogeneous transformation matrix from the frame of link 2 to the frame of link 3
	real global H_2_3[4,4];

variables

   real T_r_CG_3[4,4]; // Transformation matrix to shift a point to the center of gravity of link 3
	real H_0_G3_init[4,4]; // Transformation matrix from link 0 to the center of gravity of link 3
	real T_a3[4,4]; // Matrix that shifts a point along the x-axis based on the value in DH (0)
	real R_alpha_3[4,4]; // Rotation matrix along the x-axis defined by the values in DH
   real H_A_G_3[4,4]; // Homogeneous transformation from point A to the center of gravity of link 
   real H_G_A_3[4,4]; // Inverse transformation matrix to move from the CoG frame back to point A
   real r_GA_3[3,1]; // This represents the vector from the CoG to point A on the link
   real T_r_CG_3_inverse[4,4]; // Inverse of the transformation matrix that moves to the CoG
   real T_d4[4,4]; // Matrix that shifts a point along the z-axis based on the value in DH (0)
   real H_G_B_3[4,4]; // Homogeneous transformation from the center of gravity to the frame B
   real r_GB_3[3,1]; // This represents the vector from the CoG to point B on the link


equations
	// Transformation matrix to shift a point to the center of gravity of link 2
	T_r_CG_3 = [1, 0, 0, r_CG_3[1,1];
				0, 1, 0, r_CG_3[2,1];
				0, 0, 1, r_CG_3[3,1];
				0, 0, 0, 1];

	// Transformation matrix from link 1 to the center of gravity of link 2
	H_0_G3_init = H_0_1 * H_1_2 * H_2_3 * T_r_CG_3;

	// Matrix that shifts a point along the x-axis based on the value in DH (0)
	T_a3 = [1, 0, 0, DH[3,3];
			  0, 1, 0, 0;
			  0, 0, 1, 0;
  			  0, 0, 0, 1];

	// Rotation matrix along the x-axis defined by the values in DH
	R_alpha_3 = [1, 0, 0, 0;
					0, cos_alpha_3, -sin_alpha_3, 0;
					0, sin_alpha_3, cos_alpha_3, 0;
					0, 0, 0, 1];
		
	// Homogeneous transformation from point A to the center of gravity of link 2
	H_A_G_3 = T_a3 * R_alpha_3 * T_r_CG_3;

	// Inverse transformation matrix to move from the CoG frame back to point A
	H_G_A_3 = inverse(H_A_G_3);

	// This represents the vector from the CoG to point A on the link
	r_GA_3 = H_G_A_3[1:3,4];

	// Inverse of the transformation matrix that moves to the CoG
	T_r_CG_3_inverse = inverse(T_r_CG_3);

	// Matrix that shifts a point along the z-axis based on the value in DH (0)
	T_d4 = [1, 0, 0, 0;
			  0, 1, 0, 0;
			  0, 0, 1, DH[4,2];
			  0, 0, 0, 1];

	// Homogeneous transformation from the center of gravity to the frame B
	H_G_B_3 = T_r_CG_3_inverse * T_d4;

	// This represents the vector from the CoG to point B on the link
	r_GB_3 = H_G_B_3[1:3,4];</GlobalRelations></Attributes></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
    end;
    icon bg
     figures
      rectangle 776 56 840 104 color 0 fill 15132390;
      text 'name' 808 80 color 0 16;
     terminals
      linear_A 776 56 fixed;
      linear_B 840 56 fixed;
      rotational_A 776 104 fixed;
      rotational_B 840 104 fixed;
    end;
    implementation bg
     submodels
      EULER_EQUATIONS 536 264
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters
	//rotational intertia of link 1
	real J3[3,3] = [0.0025, 0, 0.0034;
						 0, 0.0551, 0;
						 0.0034, 0, 0.0546];

</GlobalRelations></Attributes></Information>';
       type 'Submodel-Equation'
        ports
         power in rotation [3,1];
         power in translation [3,1];
         signal out P_OG [3,1];
         signal out R_OG [3,3];
       end;
       implementation eq
parameters
	real global m3; //mass of the link
	real global J3[3,3]; //rotational inertia of the link

variables
	real v[3,1]; //linear velocity
	real omega[3,1]; //angular velocity
	real p[3,1];	//linear momentum
	real h[3,1]; // angular momentum
	real R_OG_0[3,3]; //rotation component of transformation matrix
	real P_OG_0[3,1]; //position component of transformation matrix
	real global H_0_G3_init[4,4]; //homogeneous transformation matrix
	
equations
	R_OG_0 = H_0_G3_init[1:3, 1:3];
	P_OG_0 = H_0_G3_init[1:3, 4];
	
	v = translation.f; //velocity is the flow of the translation component
	omega = rotation.f; //angular velocity is the flow of the rotation component
	p = int(translation.e - skew(omega)*p); //linear momentum law
	h = int(rotation.e - skew(omega)*h); //angular momentum law
	R_OG = int(R_OG * skew(omega), R_OG_0); //new orientation of the link
	P_OG = int(R_OG * v, P_OG_0); //new position of the link
	translation.f = p/m3; //output linear velocity
	rotation.f = inverse(J3)*h; //output rotational velocity
implementation_end;
      Gravity_applied 768 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type Se
        ports
         power out p [3,1];
        restrictions
         causality fixed out p;
        parameters
         real g = 9.81;
       end;
       icon bg ellipse bottom
        figures
         text 'Se' 768 344 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m3;
	real e[3,1] = [0; 0; -m3*g];
variables
	real f [3,1];
equations
	p.e = e; 
	f = p.f;
implementation_end;
      minus_skew_r_GB 128 456
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 128 456 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GB_3[3,1];
equations
	p1.e = transpose(-skew(r_GB_3)) * p2.e;
	p2.f = -skew(r_GB_3) * p1.f;
implementation_end;
      plug linear_A 264 408;
      plug linear_B 536 520;
      plug rotational_A -48 256;
      plug rotational_B 128 184;
      OneJunction 128 256
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 128 256 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 536 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 536 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction2 128 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 128 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R_alpha 32 256
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 32 256 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_3[4,4];
	real r[3,3];
equations					
	r = R_alpha_3[1:3, 1:3];
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      R_alpha1 352 408
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 352 408 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_3[4,4];
	real r[3,3];
equations
	r = R_alpha_3[1:3, 1:3];	
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
	



implementation_end;
      R_OG 688 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 688 344 color 0 18 bold;
       end;
       implementation eq
variables
	real r_trans[3,3];

equations
	r_trans = transpose(r);
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      skew_r_GA 224 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 224 344 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GA_3[3,1];
	
equations		
	p1.e = transpose(skew(r_GA_3)) * p2.e;
	p2.f = skew(r_GA_3) * p1.f;


implementation_end;
      Splitter1 688 264
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 684.8 260.8 691.2 267.2 color -1 fill 0;
         ellipse 683.7 259.7 692.3 268.3 color -1;
        terminals
         input 688 264 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 352 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 352 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 536 456
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 536 456 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      EULER_EQUATIONS\R_OG -> Splitter1\input;
      Gravity_applied\p => R_OG\p1;
      linear_A => R_alpha1\p1;
      minus_skew_r_GB\p1 <= OneJunction2\p;
      minus_skew_r_GB\p2 => ZeroJunction1\p;
      OneJunction\p => EULER_EQUATIONS\rotation;
      OneJunction1\p => EULER_EQUATIONS\translation;
      OneJunction1\p => ZeroJunction1\p;
      OneJunction2\p => OneJunction\p;
      R_alpha\p1 <= rotational_A;
      R_alpha\p2 => OneJunction\p;
      R_alpha1\p2 => ZeroJunction\p;
      R_OG\p2 => OneJunction1\p;
      rotational_B <= OneJunction\p;
      skew_r_GA\p1 <= OneJunction2\p;
      skew_r_GA\p2 => ZeroJunction\p;
      Splitter1\output -> R_OG\r;
      ZeroJunction\p => OneJunction1\p;
      ZeroJunction1\p => linear_B;
     end;
     figures
      text 'v_G' 504 368 color 0 16;
      text 'v_A = v_G + skew(r_GA) x w' 352 320 color 0;
      text 'v_B = v_G + skew(r_GB) x w' 608 456 color 0;
    implementation_end;
   Link4 1064 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters

	real global DH[6,4];
	real m4 = 1.1219;
	real r_CG_4[3,1] = [0.0, -0.0018, 0.01634];
	
	real global cos_alpha_4;
	real global sin_alpha_4;
   real global cos_theta_4;
	real global sin_theta_4;

	// Homogeneous transformation matrix from the base frame to the frame of link 1
	real global H_0_1[4,4];

	// Homogeneous transformation matrix from the frame of link 1 to the frame of link 2
	real global H_1_2[4,4];

	// Homogeneous transformation matrix from the frame of link 2 to the frame of link 3
	real global H_2_3[4,4];

	// Homogeneous transformation matrix from the frame of link 3 to the frame of link 4
	real global H_3_4[4,4];

variables

   real T_r_CG_4[4,4]; // Transformation matrix to shift a point to the center of gravity of link 4
	real H_0_G4_init[4,4]; // Transformation matrix from link 0 to the center of gravity of link 4
	real T_a4[4,4]; // Matrix that shifts a point along the x-axis based on the value in DH (0)
	real R_alpha_4[4,4]; // Rotation matrix along the x-axis defined by the values in DH
   real H_A_G_4[4,4]; // Homogeneous transformation from point A to the center of gravity of link 4
   real H_G_A_4[4,4]; // Inverse transformation matrix to move from the CoG frame back to point A
   real r_GA_4[3,1]; // This represents the vector from the CoG to point A on the link
   real T_r_CG_4_inverse[4,4]; // Inverse of the transformation matrix that moves to the CoG
   real T_d5[4,4]; // Matrix that shifts a point along the z-axis based on the value in DH (0)
   real H_G_B_4[4,4]; // Homogeneous transformation from the center of gravity to the frame B
   real r_GB_4[3,1]; // This represents the vector from the CoG to point B on the link


equations
	// Transformation matrix to shift a point to the center of gravity of link 4
	T_r_CG_4 = [1, 0, 0, r_CG_4[1,1];
				0, 1, 0, r_CG_4[2,1];
				0, 0, 1, r_CG_4[3,1];
				0, 0, 0, 1];

	// Transformation matrix from link 1 to the center of gravity of link 4
	H_0_G4_init = H_0_1 * H_1_2 * H_2_3 * H_3_4 * T_r_CG_4;

	// Matrix that shifts a point along the x-axis based on the value in DH (0)
	T_a4 = [1, 0, 0, DH[4,3];
			  0, 1, 0, 0;
			  0, 0, 1, 0;
  			  0, 0, 0, 1];

	// Rotation matrix along the x-axis defined by the values in DH
	R_alpha_4 = [1, 0, 0, 0;
					0, cos_alpha_4, -sin_alpha_4, 0;
					0, sin_alpha_4, cos_alpha_4, 0;
					0, 0, 0, 1];
		
	// Homogeneous transformation from point A to the center of gravity of link 4
	H_A_G_4 = T_a4 * R_alpha_4 * T_r_CG_4;

	// Inverse transformation matrix to move from the CoG frame back to point A
	H_G_A_4 = inverse(H_A_G_4);

	// This represents the vector from the CoG to point A on the link
	r_GA_4 = H_G_A_4[1:3,4];

	// Inverse of the transformation matrix that moves to the CoG
	T_r_CG_4_inverse = inverse(T_r_CG_4);

	// Matrix that shifts a point along the z-axis based on the value in DH (0)
	T_d5 = [1, 0, 0, 0;
			  0, 1, 0, 0;
			  0, 0, 1, DH[5,2];
			  0, 0, 0, 1];

	// Homogeneous transformation from the center of gravity to the frame B
	H_G_B_4 = T_r_CG_4_inverse * T_d5;

	// This represents the vector from the CoG to point B on the link
	r_GB_4 = H_G_B_4[1:3,4];</GlobalRelations></Attributes></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
    end;
    icon bg
     figures
      rectangle 1032 56 1096 104 color 0 fill 15132390;
      text 'name' 1064 80 color 0 16;
     terminals
      linear_A 1032 56 fixed;
      linear_B 1096 56 fixed;
      rotational_A 1032 104 fixed;
      rotational_B 1096 104 fixed;
    end;
    implementation bg
     submodels
      EULER_EQUATIONS 528 264
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters
	//rotational intertia of link 4
	real J4[3,3] = [0.0012, 0, 0;
						 0, 0.0012, 0;
 						0, 0, 0.0009];

</GlobalRelations></Attributes></Information>';
       type 'Submodel-Equation'
        ports
         power in rotation [3,1];
         power in translation [3,1];
         signal out P_OG [3,1];
         signal out R_OG [3,3];
       end;
       implementation eq
parameters
	real global m4; //mass of the link
	real global J4[3,3]; //rotational inertia of the link

variables
	real v[3,1]; //linear velocity
	real omega[3,1]; //angular velocity
	real p[3,1];	//linear momentum
	real h[3,1]; // angular momentum
	real R_OG_0[3,3]; //rotation component of transformation matrix
	real P_OG_0[3,1]; //position component of transformation matrix
	real global H_0_G4_init[4,4]; //homogeneous transformation matrix
	
equations
	R_OG_0 = H_0_G4_init[1:3, 1:3];
	P_OG_0 = H_0_G4_init[1:3, 4];
	
	v = translation.f; //velocity is the flow of the translation component
	omega = rotation.f; //angular velocity is the flow of the rotation component
	p = int(translation.e - skew(omega)*p); //linear momentum law
	h = int(rotation.e - skew(omega)*h); //angular momentum law
	R_OG = int(R_OG * skew(omega), R_OG_0); //new orientation of the link
	P_OG = int(R_OG * v, P_OG_0); //new position of the link
	translation.f = p/m4; //output linear velocity
	rotation.f = inverse(J4)*h; //output rotational velocity
implementation_end;
      Gravity_applied 736 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type Se
        ports
         power out p [3,1];
        restrictions
         causality fixed out p;
        parameters
         real g = 9.81;
       end;
       icon bg ellipse bottom
        figures
         text 'Se' 736 344 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m4;
	real e[3,1] = [0; 0; -m4*g];
variables
	real f [3,1];
equations
	p.e = e; 
	f = p.f;
implementation_end;
      minus_skew_r_GB 152 456
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 152 456 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GB_4[3,1];
equations
	p1.e = transpose(-skew(r_GB_4)) * p2.e;
	p2.f = -skew(r_GB_4) * p1.f;
implementation_end;
      plug linear_A 280 408;
      plug linear_B 528 536;
      plug rotational_A -16 264;
      plug rotational_B 152 192;
      OneJunction 152 264
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 264 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 528 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 528 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction2 152 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 152 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R_alpha 80 264
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 80 264 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_4[4,4];
	real r[3,3];
equations					
	r = R_alpha_4[1:3, 1:3];
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      R_alpha1 368 408
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 368 408 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_4[4,4];
	real r[3,3];
equations
	r = R_alpha_4[1:3, 1:3];	
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
	



implementation_end;
      R_OG 656 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 656 344 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      skew_r_GA 248 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 248 344 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GA_4[3,1];
	
equations		
	p1.e = transpose(skew(r_GA_4)) * p2.e;
	p2.f = skew(r_GA_4) * p1.f;


implementation_end;
      Splitter1 656 264
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 652.8 260.8 659.2 267.2 color -1 fill 0;
         ellipse 651.7 259.7 660.3 268.3 color -1;
        terminals
         input 656 264 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 368 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 368 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 528 456
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 528 456 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      EULER_EQUATIONS\R_OG -> Splitter1\input;
      Gravity_applied\p => R_OG\p1;
      linear_A => R_alpha1\p1;
      minus_skew_r_GB\p1 <= OneJunction2\p;
      minus_skew_r_GB\p2 => ZeroJunction1\p;
      OneJunction\p => EULER_EQUATIONS\rotation;
      OneJunction1\p => EULER_EQUATIONS\translation;
      OneJunction1\p => ZeroJunction1\p;
      OneJunction2\p => OneJunction\p;
      R_alpha\p1 <= rotational_A;
      R_alpha\p2 => OneJunction\p;
      R_alpha1\p2 => ZeroJunction\p;
      R_OG\p2 => OneJunction1\p;
      rotational_B <= OneJunction\p;
      skew_r_GA\p1 <= OneJunction2\p;
      skew_r_GA\p2 => ZeroJunction\p;
      Splitter1\output -> R_OG\r;
      ZeroJunction\p => OneJunction1\p;
      ZeroJunction1\p => linear_B;
     end;
     figures
      text 'v_G' 504 368 color 0 16;
      text 'v_A = v_G + skew(r_GA) x w' 368 328 color 0;
      text 'v_B = v_G + skew(r_GB) x w' 600 456 color 0;
    implementation_end;
   Link5 1288 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters

	real global DH[6,4];
	real m5 = 1.1219;
	real r_CG_5[3,1] = [0.0, 0.0018, 0.01634];
	
	real global cos_alpha_5;
	real global sin_alpha_5;
   real global cos_theta_5;
	real global sin_theta_5;

	// Homogeneous transformation matrix from the base frame to the frame of link 1
	real global H_0_1[4,4];

	// Homogeneous transformation matrix from the frame of link 1 to the frame of link 2
	real global H_1_2[4,4];

	// Homogeneous transformation matrix from the frame of link 2 to the frame of link 3
	real global H_2_3[4,4];

	// Homogeneous transformation matrix from the frame of link 3 to the frame of link 4
	real global H_3_4[4,4];

	// Homogeneous transformation matrix from the frame of link 4 to the frame of link 5
	real global H_4_5[4,4];

variables

   real T_r_CG_5[4,4]; // Transformation matrix to shift a point to the center of gravity of link 5
	real H_0_G5_init[4,4]; // Transformation matrix from link 0 to the center of gravity of link 5
	real T_a5[4,4]; // Matrix that shifts a point along the x-axis based on the value in DH (0)
	real R_alpha_5[4,4]; // Rotation matrix along the x-axis defined by the values in DH
   real H_A_G_5[4,4]; // Homogeneous transformation from point A to the center of gravity of link 5
   real H_G_A_5[4,4]; // Inverse transformation matrix to move from the CoG frame back to point A
   real r_GA_5[3,1]; // This represents the vector from the CoG to point A on the link
   real T_r_CG_5_inverse[4,4]; // Inverse of the transformation matrix that moves to the CoG
   real T_d6[4,4]; // Matrix that shifts a point along the z-axis based on the value in DH (0)
   real H_G_B_5[4,4]; // Homogeneous transformation from the center of gravity to the frame B
   real r_GB_5[3,1]; // This represents the vector from the CoG to point B on the link


equations
	// Transformation matrix to shift a point to the center of gravity of link 5
	T_r_CG_5 = [1, 0, 0, r_CG_5[1,1];
				0, 1, 0, r_CG_5[2,1];
				0, 0, 1, r_CG_5[3,1];
				0, 0, 0, 1];

	// Transformation matrix from link 1 to the center of gravity of link 4
	H_0_G5_init = H_0_1 * H_1_2 * H_2_3 * H_3_4 * H_4_5 * T_r_CG_5;

	// Matrix that shifts a point along the x-axis based on the value in DH (0)
	T_a5 = [1, 0, 0, DH[5,3];
			  0, 1, 0, 0;
			  0, 0, 1, 0;
  			  0, 0, 0, 1];

	// Rotation matrix along the x-axis defined by the values in DH
	R_alpha_5 = [1, 0, 0, 0;
					0, cos_alpha_5, -sin_alpha_5, 0;
					0, sin_alpha_5, cos_alpha_5, 0;
					0, 0, 0, 1];
		
	// Homogeneous transformation from point A to the center of gravity of link 4
	H_A_G_5 = T_a5 * R_alpha_5 * T_r_CG_5;

	// Inverse transformation matrix to move from the CoG frame back to point A
	H_G_A_5 = inverse(H_A_G_5);

	// This represents the vector from the CoG to point A on the link
	r_GA_5 = H_G_A_5[1:3,4];

	// Inverse of the transformation matrix that moves to the CoG
	T_r_CG_5_inverse = inverse(T_r_CG_5);

	// Matrix that shifts a point along the z-axis based on the value in DH (0)
	T_d6 = [1, 0, 0, 0;
			  0, 1, 0, 0;
			  0, 0, 1, DH[6,2];
			  0, 0, 0, 1];

	// Homogeneous transformation from the center of gravity to the frame B
	H_G_B_5 = T_r_CG_5_inverse * T_d6;

	// This represents the vector from the CoG to point B on the link
	r_GB_5 = H_G_B_5[1:3,4];</GlobalRelations></Attributes></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
    end;
    icon bg
     figures
      rectangle 1256 56 1320 104 color 0 fill 15132390;
      text 'name' 1288 80 color 0 16;
     terminals
      linear_A 1256 56 fixed;
      linear_B 1320 56 fixed;
      rotational_A 1256 104 fixed;
      rotational_B 1320 104 fixed;
    end;
    implementation bg
     submodels
      EULER_EQUATIONS 528 264
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters
	//rotational intertia of link 4
	real J5[3,3] = [0.0012, 0, 0;
						 0, 0.0012, 0;
						 0, 0, 0.0009];


</GlobalRelations></Attributes></Information>';
       type 'Submodel-Equation'
        ports
         power in rotation [3,1];
         power in translation [3,1];
         signal out P_OG [3,1];
         signal out R_OG [3,3];
       end;
       implementation eq
parameters
	real global m5; //mass of the link
	real global J5[3,3]; //rotational inertia of the link

variables
	real v[3,1]; //linear velocity
	real omega[3,1]; //angular velocity
	real p[3,1];	//linear momentum
	real h[3,1]; // angular momentum
	real R_OG_0[3,3]; //rotation component of transformation matrix
	real P_OG_0[3,1]; //position component of transformation matrix
	real global H_0_G5_init[4,4]; //homogeneous transformation matrix
	
equations
	R_OG_0 = H_0_G5_init[1:3, 1:3];
	P_OG_0 = H_0_G5_init[1:3, 4];
	
	v = translation.f; //velocity is the flow of the translation component
	omega = rotation.f; //angular velocity is the flow of the rotation component
	p = int(translation.e - skew(omega)*p); //linear momentum law
	h = int(rotation.e - skew(omega)*h); //angular momentum law
	R_OG = int(R_OG * skew(omega), R_OG_0); //new orientation of the link
	P_OG = int(R_OG * v, P_OG_0); //new position of the link
	translation.f = p/m5; //output linear velocity
	rotation.f = inverse(J5)*h; //output rotational velocity
implementation_end;
      Gravity_applied 752 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type Se
        ports
         power out p [3,1];
        restrictions
         causality fixed out p;
        parameters
         real g = 9.81;
       end;
       icon bg ellipse bottom
        figures
         text 'Se' 752 336 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m5;
	real e[3,1] = [0; 0; -m5*g];
variables
	real f [3,1];
equations
	p.e = e; 
	f = p.f;
implementation_end;
      minus_skew_r_GB 160 456
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 160 456 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GB_5[3,1];
equations
	p1.e = transpose(-skew(r_GB_5)) * p2.e;
	p2.f = -skew(r_GB_5) * p1.f;
implementation_end;
      plug linear_A 304 392;
      plug linear_B 528 520;
      plug rotational_A -16 264;
      plug rotational_B 160 184;
      OneJunction 160 264
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 160 264 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 528 336
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 528 336 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction2 160 336
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 160 336 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R_alpha 72 264
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 72 264 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_5[4,4];
	real r[3,3];
equations					
	r = R_alpha_5[1:3, 1:3];
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      R_alpha1 392 392
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 392 392 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_5[4,4];
	real r[3,3];
equations
	r = R_alpha_5[1:3, 1:3];	
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
	



implementation_end;
      R_OG 672 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 672 336 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      skew_r_GA 264 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 264 336 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GA_5[3,1];
	
equations		
	p1.e = transpose(skew(r_GA_5)) * p2.e;
	p2.f = skew(r_GA_5) * p1.f;


implementation_end;
      Splitter1 672 264
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 668.8 260.8 675.2 267.2 color -1 fill 0;
         ellipse 667.7 259.7 676.3 268.3 color -1;
        terminals
         input 672 264 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 392 336
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 392 336 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 528 456
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 528 456 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      EULER_EQUATIONS\R_OG -> Splitter1\input;
      Gravity_applied\p => R_OG\p1;
      linear_A => R_alpha1\p1;
      minus_skew_r_GB\p1 <= OneJunction2\p;
      minus_skew_r_GB\p2 => ZeroJunction1\p;
      OneJunction\p => EULER_EQUATIONS\rotation;
      OneJunction1\p => EULER_EQUATIONS\translation;
      OneJunction1\p => ZeroJunction1\p;
      OneJunction2\p => OneJunction\p;
      R_alpha\p1 <= rotational_A;
      R_alpha\p2 => OneJunction\p;
      R_alpha1\p2 => ZeroJunction\p;
      R_OG\p2 => OneJunction1\p;
      rotational_B <= OneJunction\p;
      skew_r_GA\p1 <= OneJunction2\p;
      skew_r_GA\p2 => ZeroJunction\p;
      Splitter1\output -> R_OG\r;
      ZeroJunction\p => OneJunction1\p;
      ZeroJunction1\p => linear_B;
     end;
     figures
      text 'v_G' 496 360 color 0 16;
      text 'v_A = v_G + skew(r_GA) x w' 392 312 color 0;
      text 'v_B = v_G + skew(r_GB) x w' 600 456 color 0;
    implementation_end;
   Link6 1528 80
    description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Graphical.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>True</KeepParameterValues><TimeStamp>2007-11-1 22:32:34</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters

	real global DH[6,4];
	real m6 = 0.1879;
	real r_CG_6[3,1] = [0.0, 0.0, -0.001159];
	
	real global cos_alpha_6;
	real global sin_alpha_6;
   real global cos_theta_6;
	real global sin_theta_6;

	// Homogeneous transformation matrix from the base frame to the frame of link 1
	real global H_0_1[4,4];

	// Homogeneous transformation matrix from the frame of link 1 to the frame of link 2
	real global H_1_2[4,4];

	// Homogeneous transformation matrix from the frame of link 2 to the frame of link 3
	real global H_2_3[4,4];

	// Homogeneous transformation matrix from the frame of link 3 to the frame of link 4
	real global H_3_4[4,4];

	// Homogeneous transformation matrix from the frame of link 4 to the frame of link 5
	real global H_4_5[4,4];

	// Homogeneous transformation matrix from the frame of link 5 to the frame of link 6
	real global H_5_6[4,4];

variables

   real T_r_CG_6[4,4]; // Transformation matrix to shift a point to the center of gravity of link 6
	real H_0_G6_init[4,4]; // Transformation matrix from link 0 to the center of gravity of link 6
	real T_a6[4,4]; // Matrix that shifts a point along the x-axis based on the value in DH (0)
	real R_alpha_6[4,4]; // Rotation matrix along the x-axis defined by the values in DH
   real H_A_G_6[4,4]; // Homogeneous transformation from point A to the center of gravity of link 6
   real H_G_A_6[4,4]; // Inverse transformation matrix to move from the CoG frame back to point A
   real r_GA_6[3,1]; // This represents the vector from the CoG to point A on the link
   real T_r_CG_6_inverse[4,4]; // Inverse of the transformation matrix that moves to the CoG
   real H_G_B_6[4,4]; // Homogeneous transformation from the center of gravity to the frame B
   real r_GB_6[3,1]; // This represents the vector from the CoG to point B on the link


equations
	// Transformation matrix to shift a point to the center of gravity of link 4
	T_r_CG_6 = [1, 0, 0, r_CG_6[1,1];
				0, 1, 0, r_CG_6[2,1];
				0, 0, 1, r_CG_6[3,1];
				0, 0, 0, 1];

	// Transformation matrix from link 1 to the center of gravity of link 4
	H_0_G6_init = H_0_1 * H_1_2 * H_2_3 * H_3_4 * H_4_5 * H_5_6 * T_r_CG_6;

	// Matrix that shifts a point along the x-axis based on the value in DH (0)
	T_a6 = [1, 0, 0, DH[6,3];
			  0, 1, 0, 0;
			  0, 0, 1, 0;
  			  0, 0, 0, 1];

	// Rotation matrix along the x-axis defined by the values in DH
	R_alpha_6 = [1, 0, 0, 0;
					0, cos_alpha_6, -sin_alpha_6, 0;
					0, sin_alpha_6, cos_alpha_6, 0;
					0, 0, 0, 1];
		
	// Homogeneous transformation from point A to the center of gravity of link 4
	H_A_G_6 = T_a6 * R_alpha_6 * T_r_CG_6;

	// Inverse transformation matrix to move from the CoG frame back to point A
	H_G_A_6 = inverse(H_A_G_6);

	// This represents the vector from the CoG to point A on the link
	r_GA_6 = H_G_A_6[1:3,4];

	// Inverse of the transformation matrix that moves to the CoG
	T_r_CG_6_inverse = inverse(T_r_CG_6);

	// Homogeneous transformation from the center of gravity to the frame B
	H_G_B_6 = T_r_CG_6_inverse;

	// This represents the vector from the CoG to point B on the link
	r_GB_6 = H_G_B_6[1:3,4];</GlobalRelations></Attributes></Information>';
    type 'Submodel-Graphical'
     ports
      power in linear_A [3,1];
      power out linear_B [3,1];
      power in rotational_A [3,1];
      power out rotational_B [3,1];
    end;
    icon bg
     figures
      rectangle 1496 56 1560 104 color 0 fill 15132390;
      text 'name' 1528 80 color 0 16;
     terminals
      linear_A 1496 56 fixed;
      linear_B 1560 56 fixed;
      rotational_A 1496 104 fixed;
      rotational_B 1560 104 fixed;
    end;
    implementation bg
     submodels
      EULER_EQUATIONS 528 264
       description '<Information><Description><Version>4.0</Version><LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><TimeStamp>2007-11-1 22:32:1</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate></Description><Attributes><GlobalRelations>parameters
	//rotational intertia of link 4
	real J6[3,3] = [0.0001, 0, 0;
						 0, 0.0001, 0;
						 0, 0, 0.0001];



</GlobalRelations></Attributes></Information>';
       type 'Submodel-Equation'
        ports
         power in rotation [3,1];
         power in translation [3,1];
         signal out P_OG [3,1];
         signal out R_OG [3,3];
       end;
       implementation eq
parameters
	real global m6; //mass of the link
	real global J6[3,3]; //rotational inertia of the link

variables
	real v[3,1]; //linear velocity
	real omega[3,1]; //angular velocity
	real p[3,1];	//linear momentum
	real h[3,1]; // angular momentum
	real R_OG_0[3,3]; //rotation component of transformation matrix
	real P_OG_0[3,1]; //position component of transformation matrix
	real global H_0_G6_init[4,4]; //homogeneous transformation matrix
	
equations
	R_OG_0 = H_0_G6_init[1:3, 1:3];
	P_OG_0 = H_0_G6_init[1:3, 4];
	
	v = translation.f; //velocity is the flow of the translation component
	omega = rotation.f; //angular velocity is the flow of the rotation component
	p = int(translation.e - skew(omega)*p); //linear momentum law
	h = int(rotation.e - skew(omega)*h); //angular momentum law
	R_OG = int(R_OG * skew(omega), R_OG_0); //new orientation of the link
	P_OG = int(R_OG * v, P_OG_0); //new position of the link
	translation.f = p/m6; //output linear velocity
	rotation.f = inverse(J6)*h; //output rotational velocity
implementation_end;
      Gravity_applied 760 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type Se
        ports
         power out p [3,1];
        restrictions
         causality fixed out p;
        parameters
         real g = 9.81;
       end;
       icon bg ellipse bottom
        figures
         text 'Se' 760 344 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m6;
	real e[3,1] = [0; 0; -m6*g];
variables
	real f [3,1];
equations
	p.e = e; 
	f = p.f;
implementation_end;
      minus_skew_r_GB 112 456
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 112 456 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GB_6[3,1];
equations
	p1.e = transpose(-skew(r_GB_6)) * p2.e;
	p2.f = -skew(r_GB_6) * p1.f;
implementation_end;
      plug linear_A 264 400;
      plug linear_B 520 528;
      plug rotational_A -40 256;
      plug rotational_B 112 176;
      OneJunction 112 256
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 112 256 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 520 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 520 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction2 112 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out flow [3,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg ellipse
        figures
         text '1' 112 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      R_alpha 48 256
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 48 256 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_6[4,4];
	real r[3,3];
equations					
	r = R_alpha_6[1:3, 1:3];
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      R_alpha1 344 400
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 344 400 color 0 18 bold;
       end;
       implementation eq
variables
	real global R_alpha_6[4,4];
	real r[3,3];
equations
	r = R_alpha_6[1:3, 1:3];	
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
	



implementation_end;
      R_OG 672 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type MTF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
         signal in r [3,3];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'MTF' 672 344 color 0 18 bold;
       end;
       implementation eq
equations
	p1.e = r * p2.e;
	p2.f = transpose(r) * p1.f;
implementation_end;
      skew_r_GA 224 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\TF.emx</LibraryPath><TimeStamp>2011-11-29 16:43:47</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
       type TF
        ports
         power in p1 [3,1];
         power out p2 [3,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse bottom
        figures
         text 'TF' 224 344 color 0 18 bold;
       end;
       implementation eq
variables 
	real global r_GA_6[3,1];
	
equations		
	p1.e = transpose(skew(r_GA_6)) * p2.e;
	p2.f = skew(r_GA_6) * p1.f;


implementation_end;
      Splitter1 672 264
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [3,3];
         signal knot in input [3,3];
       end;
       icon bg ellipse
        figures
         ellipse 668.8 260.8 675.2 267.2 color -1 fill 0;
         ellipse 667.7 259.7 676.3 268.3 color -1;
        terminals
         input 672 264 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 344 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 344 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 520 456
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [3,1];
         signal knot out effort [3,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg ellipse
        figures
         text '0' 520 456 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      EULER_EQUATIONS\R_OG -> Splitter1\input;
      Gravity_applied\p => R_OG\p1;
      linear_A => R_alpha1\p1;
      minus_skew_r_GB\p1 <= OneJunction2\p;
      minus_skew_r_GB\p2 => ZeroJunction1\p;
      OneJunction\p => EULER_EQUATIONS\rotation;
      OneJunction1\p => EULER_EQUATIONS\translation;
      OneJunction1\p => ZeroJunction1\p;
      OneJunction2\p => OneJunction\p;
      R_alpha\p1 <= rotational_A;
      R_alpha\p2 => OneJunction\p;
      R_alpha1\p2 => ZeroJunction\p;
      R_OG\p2 => OneJunction1\p;
      rotational_B <= OneJunction\p;
      skew_r_GA\p1 <= OneJunction2\p;
      skew_r_GA\p2 => ZeroJunction\p;
      Splitter1\output -> R_OG\r;
      ZeroJunction\p => OneJunction1\p;
      ZeroJunction1\p => linear_B;
     end;
     figures
      text 'v_G' 488 368 color 0 16;
      text 'v_A = v_G + skew(r_GA) x w' 344 320 color 0;
      text 'v_B = v_G + skew(r_GB) x w' 592 456 color 0;
    implementation_end;
   MSe 232 232
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
    type MSe
     ports
      power out p;
      signal in effort;
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'MSe' 232 232 color 0 18 bold;
     terminals
      p 232 220 fixed;
      effort 232 244 fixed;
    end;
    implementation eq
variables
	real flow;
equations
	p.e = effort;
	//p.e = 0;
	flow = p.f;
implementation_end;
   MSe1 448 224
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
    type MSe
     ports
      power out p;
      signal in effort;
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'MSe' 448 224 color 0 18 bold;
     terminals
      p 448 212 fixed;
      effort 448 236 fixed;
    end;
    implementation eq
variables
	real flow;
equations
	p.e = effort;
	//p.e = 0;
	flow = p.f;
implementation_end;
   MSe2 704 240
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
    type MSe
     ports
      power out p;
      signal in effort;
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'MSe' 704 240 color 0 18 bold;
     terminals
      p 704 228 fixed;
      effort 704 252 fixed;
    end;
    implementation eq
variables
	real flow;
equations
	p.e = effort;
	//p.e = 0;
	flow = p.f;
implementation_end;
   MSe3 960 240
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
    type MSe
     ports
      power out p;
      signal in effort;
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'MSe' 960 240 color 0 18 bold;
     terminals
      p 960 228 fixed;
      effort 960 252 fixed;
    end;
    implementation eq
variables
	real flow;
equations
	p.e = effort;
	//p.e = 0;
	flow = p.f;
implementation_end;
   MSe4 1208 248
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
    type MSe
     ports
      power out p;
      signal in effort;
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'MSe' 1208 248 color 0 18 bold;
     terminals
      p 1208 236 fixed;
      effort 1208 260 fixed;
    end;
    implementation eq
variables
	real flow;
equations
	p.e = effort;
	//p.e = 0;
	flow = p.f;
implementation_end;
   MSe5 1432 248
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
    type MSe
     ports
      power out p;
      signal in effort;
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'MSe' 1432 248 color 0 18 bold;
     terminals
      p 1432 236 fixed;
      effort 1432 260 fixed;
    end;
    implementation eq
variables
	real flow;
equations
	p.e = effort;
	//p.e = 0;
	flow = p.f;
implementation_end;
   OneJunction 112 56
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [3,1];
      signal knot out flow [3,1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg ellipse
     figures
      text '1' 112 56 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   OneJunction1 112 104
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [3,1];
      signal knot out flow [3,1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg ellipse
     figures
      text '1' 112 104 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   PID1 232 296
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Control\PID Control\Continuous\PID.emx</LibraryPath><TimeStamp>2008-1-17 10:49:30</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type PID
     ports
      signal in error;
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 216 280 248 312 color 0 fill 15132390;
      text 'PID' 232 295.5 color 16711680 18 bold;
    end;
    implementation eq
parameters
	real kp1 = -0.015;
	real tauD1 = 2 {s};
	real beta1 = 0.0005;
	real tauI1 = 0.05 {s};
variables
	real pdout, pdrate, pdstate;
	real pirate, pistate;
equations
	pdrate = (kp1 * error - pdout) / (beta1 * tauD1);
	pdstate = int (pdrate);
	pdout = pdstate + (kp1 * error / beta1);
	pirate = pdout / tauI1;
	pistate = int (pirate);
	output = pistate + pdout;
implementation_end;
   PID2 456 288
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Control\PID Control\Continuous\PID.emx</LibraryPath><TimeStamp>2008-1-17 10:49:30</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type PID
     ports
      signal in error;
      signal out output;
      signal in q2;
      signal in q3;
      signal in q4;
      signal in q5;
    end;
    icon bg bottom
     figures
      rectangle 440 272 472 304 color 0 fill 15132390;
      text 'PID' 456 287.5 color 16711680 18 bold;
    end;
    implementation eq
parameters
   real kp2 = -0.08;
	real tauD2 = 0.8 {s};
	real beta2 = 0.001;
	real tauI2 = 0.15 {s};
variables
	real pdout, pdrate, pdstate;
	real pirate, pistate;
	real dp2;			
equations
	 if time < 1e-6 then
    dp2 = 0;
  else
    dp2 = [1.376*sin(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) - 14.89*cos(q2)*cos(q3) - 37.35*cos(q2) + 14.89*sin(q2)*sin(q3) - 0.3294*cos(q5)*(0.0007963*sin(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) + 0.0007963*cos(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))) - 0.3294*sin(q5)*(cos(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) - 1.0*sin(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))) + 1.376*cos(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))]/100;
  end;
	pdrate = (kp2 * error - pdout) / (beta2 * tauD2);
	pdstate = int (pdrate);
	pdout = pdstate + (kp2 * error / beta2);
	pirate = pdout / tauI2;
	pistate = int (pirate);
	output = pistate + pdout + dp2;

implementation_end;
   PID3 704 296
    description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Control\PID Control\Continuous\PID.emx</LibraryPath>
  <TimeStamp>2008-1-17 10:49:30</TimeStamp>
</Description>';
    type PID
     ports
      signal in error;
      signal out output;
      signal in q2;
      signal in q3;
      signal in q4;
      signal in q5;
    end;
    icon bg bottom
     figures
      rectangle 688 280 720 312 color 0 fill 15132390;
      text 'PID' 704 295.5 color 16711680 18 bold;
    end;
    implementation eq
parameters
   real kp3 = -0.01;          
	real tauD3 = 4.6 {s};       
	real beta3 = 0.0005;	
	real tauI3 = 0.02 {s};
variables
	real pdout, pdrate, pdstate;
	real pirate, pistate;
	real dp3;			
equations
	 if time < 1e-6 then
    dp3 = 0;
  else
    dp3 = [1.376*sin(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) - 14.89*cos(q2)*cos(q3) + 14.89*sin(q2)*sin(q3) - 0.3294*cos(q5)*(0.0007963*sin(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) + 0.0007963*cos(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))) - 0.3294*sin(q5)*(cos(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) - 1.0*sin(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))) + 1.376*cos(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))]/100;
  end;
	pdrate = (kp3 * error - pdout) / (beta3 * tauD3);
	pdstate = int (pdrate);
	pdout = pdstate + (kp3 * error / beta3);
	pirate = pdout / tauI3;
	pistate = int (pirate);
	output = pistate + pdout + dp3;
implementation_end;
   PID4 968 304
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Control\PID Control\Continuous\PID.emx</LibraryPath><TimeStamp>2008-1-17 10:49:30</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type PID
     ports
      signal in error;
      signal out output;
      signal in q2;
      signal in q3;
      signal in q4;
      signal in q5;
    end;
    icon bg bottom
     figures
      rectangle 952 288 984 320 color 0 fill 15132390;
      text 'PID' 968 303.5 color 16711680 18 bold;
    end;
    implementation eq
parameters
   real kp4 = -0.01;          
	real tauD4 = 2.8 {s};       
	real beta4 = 0.001;	
	real tauI4 = 0.035 {s};
variables
	real pdout, pdrate, pdstate;
	real pirate, pistate;
	real dp4;				
equations
	 if time < 1e-6 then
    dp4 = 0;
  else
    dp4 = [1.376*sin(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) - 0.3294*cos(q5)*(0.0007963*sin(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) + 0.0007963*cos(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))) - 0.3294*sin(q5)*(cos(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) - 1.0*sin(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))) + 1.376*cos(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))]/100;
  end;
	pdrate = (kp4 * error - pdout) / (beta4 * tauD4);
	pdstate = int (pdrate);
	pdout = pdstate + (kp4 * error / beta4);
	pirate = pdout / tauI4;
	pistate = int (pirate);
	output = pistate + pdout + dp4;
implementation_end;
   PID5 1208 304
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Control\PID Control\Continuous\PID.emx</LibraryPath><TimeStamp>2008-1-17 10:49:30</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type PID
     ports
      signal in error;
      signal out output;
      signal in q2;
      signal in q3;
      signal in q4;
      signal in q5;
    end;
    icon bg bottom
     figures
      rectangle 1192 288 1224 320 color 0 fill 15132390;
      text 'PID' 1208 303.5 color 16711680 18 bold;
    end;
    implementation eq
parameters
   real kp5 = -0.01;
	real tauD5 = 11 {s};
	real beta5 = 0.001;
	real tauI5 = 0.1 {s};
variables
	real pdout, pdrate, pdstate;
	real pirate, pistate;
	real dp5;
equations
	if time < 1e-6 then
    dp5 = 0;
  	else
    dp5 = [- 0.3294*sin(q5)*(0.0007963*cos(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) - 0.0007963*sin(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2))) - 0.3294*cos(q5)*(sin(q4)*(cos(q2)*cos(q3) - 1.0*sin(q2)*sin(q3)) + cos(q4)*(cos(q2)*sin(q3) + cos(q3)*sin(q2)))]/100;
  	end;
	pdrate = (kp5 * error - pdout) / (beta5 * tauD5);
	pdstate = int (pdrate);
	pdout = pdstate + (kp5 * error / beta5);
	pirate = pdout / tauI5;
	pistate = int (pirate);
	output = pistate + pdout + dp5;

implementation_end;
   PID6 1432 304
    description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Control\PID Control\Continuous\PID.emx</LibraryPath><TimeStamp>2008-1-17 10:49:30</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type PID
     ports
      signal in error;
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 1416 288 1448 320 color 0 fill 15132390;
      text 'PID' 1432 303.5 color 16711680 18 bold;
     terminals
      output 1432 288 fixed;
    end;
    implementation eq
parameters
   real kp6 = -0.01;
   real tauD6 = 10 {s};
   real beta6 = 0.0001;
   real tauI6 = 0.05 {s};
variables
	real pdout, pdrate, pdstate;
	real pirate, pistate;
equations
	pdrate = (kp6 * error - pdout) / (beta6 * tauD6);
	pdstate = int (pdrate);
	pdout = pdstate + (kp6 * error / beta6);
	pirate = pdout / tauI6;
	pistate = int (pirate);
	output = pistate + pdout;implementation_end;
   PlusMinus 184 296
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 176 288 192 304 color 0 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   PlusMinus1 400 296
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 392 288 408 304 color 0 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   PlusMinus2 656 296
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 648 288 664 304 color 0 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   PlusMinus3 912 304
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 904 296 920 312 color 0 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   PlusMinus4 1160 296
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 1152 288 1168 304 color 0 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   PlusMinus5 1384 296
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 1376 288 1392 304 color 0 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   Se_linear 1674.3 53.7
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Se
     ports
      power out p [3,1];
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'Se' 1674.3 53.7 color 0 18 bold;
    end;
    implementation eq
parameters
	real effort[3,1] = [0.0; 0.0; 0.0];
variables
	real flow[3,1];
equations
	p.e = effort;
	flow = p.f;
implementation_end;
   Se_rotational 1674.3 101.7
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Se.emx</LibraryPath><TimeStamp>2011-11-29 16:36:49</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Se
     ports
      power out p [3,1];
     restrictions
      causality fixed out p;
    end;
    icon bg ellipse bottom
     figures
      text 'Se' 1674.3 101.7 color 0 18 bold;
    end;
    implementation eq
parameters
	real effort[3,1] = [0.0; 0.0; 0.0];
variables
	real flow[3,1];
equations
	p.e = effort;
	flow = p.f;
implementation_end;
   Sf_linear 40 56
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Sf.emx</LibraryPath><TimeStamp>2011-11-29 16:38:03</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Sf
     ports
      power out p [3,1];
     restrictions
      causality fixed in p;
    end;
    icon bg ellipse bottom
     figures
      text 'Sf' 40 56 color 0 18 bold;
    end;
    implementation eq
parameters
	real flow[3,1] = [0.0; 0.0; 0.0];
variables
	real effort[3,1];
equations
	p.f = flow;
	effort = p.e;
implementation_end;
   Sf_rotational 32 104
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\Sf.emx</LibraryPath><TimeStamp>2011-11-29 16:38:03</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate></Description></Information>';
    type Sf
     ports
      power out p [3,1];
     restrictions
      causality fixed in p;
    end;
    icon bg ellipse bottom
     figures
      text 'Sf' 32 104 color 0 18 bold;
    end;
    implementation eq
parameters
	real flow[3,1] = [0.0; 0.0; 0.0];
variables
	real effort[3,1];
equations
	p.f = flow;
	effort = p.e;
implementation_end;
   Splitter1 184 160
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 180.8 156.8 187.2 163.2 color -1 fill 0;
      ellipse 179.7 155.7 188.3 164.3 color -1;
     terminals
      input 184 160 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter10 880 296
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 876.8 292.8 883.2 299.2 color -1 fill 0;
      ellipse 875.7 291.7 884.3 300.3 color -1;
     terminals
      input 880 296 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter11 880 448
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 876.8 444.8 883.2 451.2 color -1 fill 0;
      ellipse 875.7 443.7 884.3 452.3 color -1;
     terminals
      input 880 448 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter12 1104 304
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 1100.8 300.8 1107.2 307.2 color -1 fill 0;
      ellipse 1099.7 299.7 1108.3 308.3 color -1;
     terminals
      input 1104 304 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter13 704 464
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 700.8 460.8 707.2 467.2 color -1 fill 0;
      ellipse 699.7 459.7 708.3 468.3 color -1;
     terminals
      input 704 464 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter2 400 160
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 396.8 156.8 403.2 163.2 color -1 fill 0;
      ellipse 395.7 155.7 404.3 164.3 color -1;
     terminals
      input 400 160 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter3 656 160
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 652.8 156.8 659.2 163.2 color -1 fill 0;
      ellipse 651.7 155.7 660.3 164.3 color -1;
     terminals
      input 656 160 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter4 912 160
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 908.8 156.8 915.2 163.2 color -1 fill 0;
      ellipse 907.7 155.7 916.3 164.3 color -1;
     terminals
      input 912 160 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter5 1160 160
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 1156.8 156.8 1163.2 163.2 color -1 fill 0;
      ellipse 1155.7 155.7 1164.3 164.3 color -1;
     terminals
      input 1160 160 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter6 968 416
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 964.8 412.8 971.2 419.2 color -1 fill 0;
      ellipse 963.7 411.7 972.3 420.3 color -1;
     terminals
      input 968 416 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter7 696 416
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 692.8 412.8 699.2 419.2 color -1 fill 0;
      ellipse 691.7 411.7 700.3 420.3 color -1;
     terminals
      input 696 416 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter8 608 296
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 604.8 292.8 611.2 299.2 color -1 fill 0;
      ellipse 603.7 291.7 612.3 300.3 color -1;
     terminals
      input 608 296 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter9 960 432
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 956.8 428.8 963.2 435.2 color -1 fill 0;
      ellipse 955.7 427.7 964.3 436.3 color -1;
     terminals
      input 960 432 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   ZeroJunction2 1602.3 53.7
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [3,1];
      signal knot out effort [3,1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg ellipse
     figures
      text '0' 1602.3 53.7 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction3 1602.3 101.7
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [3,1];
      signal knot out effort [3,1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg ellipse
     figures
      text '0' 1602.3 101.7 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
  end;
  connections
   Constant1\output -> PlusMinus\plus;
   Constant4\output -> PlusMinus3\plus;
   Constant5\output -> PlusMinus4\plus;
   Constant6\output -> PlusMinus5\plus;
   HD1\output => Joint1\theta_dot;
   HD2\output => Joint2\theta_dot;
   HD3\input <= MSe2\p;
   HD3\output => Joint3\theta_dot;
   HD4\output => Joint4\theta_dot;
   HD5\output => Joint5\theta_dot;
   Joint1\linear_B => Link1\linear_A;
   Joint1\rotational_B => Link1\rotational_A;
   Joint1\theta_1 -> Splitter1\input;
   Joint2\linear_B => Link2\linear_A;
   Joint2\rotational_B => Link2\rotational_A;
   Joint2\theta_2 -> Splitter2\input;
   Joint3\linear_B => Link3\linear_A;
   Joint3\rotational_B => Link3\rotational_A;
   Joint3\theta_3 -> Splitter3\input;
   Joint4\linear_B => Link4\linear_A;
   Joint4\rotational_B => Link4\rotational_A;
   Joint4\theta_4 -> Splitter4\input;
   Joint5\linear_B => Link5\linear_A;
   Joint5\rotational_B => Link5\rotational_A;
   Joint5\theta_5 -> Splitter5\input;
   Joint6\linear_B => Link6\linear_A;
   Joint6\rotational_B => Link6\rotational_A;
   Joint6\theta_6 -> PlusMinus5\minus;
   Joint6\theta_dot <= HD6\output;
   Link1\linear_B => Joint2\linear_A;
   Link1\rotational_B => Joint2\rotational_A;
   Link2\linear_B => Joint3\linear_A;
   Link2\rotational_B => Joint3\rotational_A;
   Link3\linear_B => Joint4\linear_A;
   Link3\rotational_B => Joint4\rotational_A;
   Link4\linear_B => Joint5\linear_A;
   Link4\rotational_B => Joint5\rotational_A;
   Link5\linear_B => Joint6\linear_A;
   Link5\rotational_B => Joint6\rotational_A;
   Link6\linear_B => ZeroJunction2\p;
   Link6\rotational_B => ZeroJunction3\p;
   MSe\p => HD1\input;
   MSe1\p => HD2\input;
   MSe3\p => HD4\input;
   MSe4\p => HD5\input;
   MSe5\p => HD6\input;
   OneJunction\p => Joint1\linear_A;
   OneJunction1\p => Joint1\rotational_A;
   PID1\output -> MSe\effort;
   PID2\output -> MSe1\effort;
   PID3\output -> MSe2\effort;
   PID4\output -> MSe3\effort;
   PID5\output -> MSe4\effort;
   PID6\output -> MSe5\effort;
   PlusMinus\output -> PID1\error;
   PlusMinus1\output -> PID2\error;
   PlusMinus1\plus <- Constant2\output;
   PlusMinus2\output -> PID3\error;
   PlusMinus2\plus <- Constant3\output;
   PlusMinus3\output -> PID4\error;
   PlusMinus4\output -> PID5\error;
   PlusMinus5\output -> PID6\error;
   Se_rotational\p => ZeroJunction3\p;
   Sf_linear\p => OneJunction\p;
   Sf_rotational\p => OneJunction1\p;
   Splitter1\output -> PlusMinus\minus;
   Splitter10\output -> PID3\q4;
   Splitter10\output -> Splitter11\input;
   Splitter11\output -> PID2\q4 880 448 464 448;
   Splitter11\output -> PID5\q4 1200 448;
   Splitter12\output -> PID4\q5;
   Splitter12\output -> Splitter13\input 1104 464;
   Splitter13\output -> PID2\q5 456 464;
   Splitter13\output -> PID3\q5;
   Splitter2\output -> PID2\q2 424 232;
   Splitter2\output -> PlusMinus1\minus;
   Splitter2\output -> Splitter7\input 352 160 352 416;
   Splitter3\output -> PID3\q3;
   Splitter3\output -> PlusMinus2\minus;
   Splitter3\output -> Splitter8\input 608 160;
   Splitter4\output -> PID4\q4;
   Splitter4\output -> PlusMinus3\minus;
   Splitter4\output -> Splitter10\input 880 160;
   Splitter5\output -> PID5\q5;
   Splitter5\output -> PlusMinus4\minus;
   Splitter5\output -> Splitter12\input 1104 160;
   Splitter6\output -> PID4\q2 968 416;
   Splitter6\output -> PID5\q2 1208 416;
   Splitter7\output -> PID3\q2;
   Splitter7\output -> Splitter6\input;
   Splitter8\output -> PID2\q3 608 296;
   Splitter8\output -> Splitter9\input 608 432;
   Splitter9\output -> PID4\q3;
   Splitter9\output -> PID5\q3 1216 432;
   ZeroJunction2\p <= Se_linear\p;
  end;
 implementation_end;
]]></Sidops>
 </Model>
 <Experiments>
  <DefaultExperiment><![CDATA[Experiment 1]]></DefaultExperiment>
<Experiment>
   <Name>Experiment 1</Name>
   <CreatedBy></CreatedBy>
   <Info></Info>
<ExpData>
 <VersionNumber>5.1</VersionNumber>
 <ModelProperties>
  <ModelProperty section="tools\graph editor" entry="debugMode" value="0"/>
  <ModelProperty section="MatlabCodeDialog" entry="TargetName" value="Whole 20-sim model to Matlab"/>
  <ModelProperty section="MatlabCodeDialog" entry="TargetDirectory" value="D:\OneDrive - Alma Mater Studiorum Università di Bologna\5° anno (1° MASTER'S EIT) - Secondo semestre\MSMS laboratory\prove Export"/>
 </ModelProperties>
 <RealTimeSyncTimeUs>1000</RealTimeSyncTimeUs>
 <Variables>
  <Constants>
  </Constants>
  <Parameters>
   <Variable>
    <Name>Constant1\C</Name>
    <Description><![CDATA[output value]]></Description>
    <Value>3.141592653589793</Value>
   </Variable>
   <Variable>
    <Name>Constant2\C</Name>
    <Description><![CDATA[output value]]></Description>
    <Value>3.141592653589793</Value>
   </Variable>
   <Variable>
    <Name>Constant3\C</Name>
    <Description><![CDATA[output value]]></Description>
    <Value>3.141592653589793</Value>
   </Variable>
   <Variable>
    <Name>Constant4\C</Name>
    <Description><![CDATA[output value]]></Description>
    <Value>3.141592653589793</Value>
   </Variable>
   <Variable>
    <Name>Constant5\C</Name>
    <Description><![CDATA[output value]]></Description>
    <Value>3.141592653589793</Value>
   </Variable>
   <Variable>
    <Name>Constant6\C</Name>
    <Description><![CDATA[output value]]></Description>
    <Value>3.141592653589793</Value>
   </Variable>
   <Variable>
    <Name>cos_alpha_1</Name>
    <Value>6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>cos_alpha_2</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_alpha_3</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_alpha_4</Name>
    <Value>6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>cos_alpha_5</Name>
    <Value>6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>cos_alpha_6</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_theta_1</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_theta_2</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_theta_3</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_theta_4</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_theta_5</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>cos_theta_6</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>DH</Name>
    <Rows>6</Rows>
    <Columns>4</Columns>
    <Description><![CDATA[damping coefficient]]></Description>
    <Value>0.0 0.089159 0.0 1.5707963267948966
0.0 0.0 -0.425 0.0
0.0 0.0 -0.39225 0.0
0.0 0.10915 0.0 1.5707963267948966
0.0 0.09465 0.0 -1.5707963267948966
0.0 0.0823 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>H_0_1</Name>
    <Rows>4</Rows>
    <Columns>4</Columns>
    <Description><![CDATA[LINK 2]]></Description>
    <Value>1.0 -0.0 0.0 0.0
0.0 6.123233995736766e-17 -1.0 0.0
0.0 1.0 6.123233995736766e-17 0.089159
0.0 0.0 0.0 1.0</Value>
   </Variable>
   <Variable>
    <Name>H_1_2</Name>
    <Rows>4</Rows>
    <Columns>4</Columns>
    <Description><![CDATA[LINK 3]]></Description>
    <Value>1.0 -0.0 0.0 -0.425
0.0 1.0 -0.0 -0.0
0.0 0.0 1.0 0.0
0.0 0.0 0.0 1.0</Value>
   </Variable>
   <Variable>
    <Name>H_2_3</Name>
    <Rows>4</Rows>
    <Columns>4</Columns>
    <Description><![CDATA[LINK 4]]></Description>
    <Value>1.0 -0.0 0.0 -0.39225
0.0 1.0 -0.0 -0.0
0.0 0.0 1.0 0.0
0.0 0.0 0.0 1.0</Value>
   </Variable>
   <Variable>
    <Name>H_3_4</Name>
    <Rows>4</Rows>
    <Columns>4</Columns>
    <Description><![CDATA[LINK 5]]></Description>
    <Value>1.0 -0.0 0.0 0.0
0.0 6.123233995736766e-17 -1.0 0.0
0.0 1.0 6.123233995736766e-17 0.10915
0.0 0.0 0.0 1.0</Value>
   </Variable>
   <Variable>
    <Name>H_4_5</Name>
    <Rows>4</Rows>
    <Columns>4</Columns>
    <Description><![CDATA[LINK 6]]></Description>
    <Value>1.0 -0.0 -0.0 0.0
0.0 6.123233995736766e-17 1.0 0.0
0.0 -1.0 6.123233995736766e-17 0.09465
0.0 0.0 0.0 1.0</Value>
   </Variable>
   <Variable>
    <Name>H_5_6</Name>
    <Rows>4</Rows>
    <Columns>4</Columns>
    <Value>1.0 -0.0 0.0 0.0
0.0 1.0 -0.0 0.0
0.0 0.0 1.0 0.0823
0.0 0.0 0.0 1.0</Value>
   </Variable>
   <Variable>
    <Name>Link1\Gravity_applied\e</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 -36.297000000000004</Value>
   </Variable>
   <Variable>
    <Name>Link2\Gravity_applied\e</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 -82.33533000000001</Value>
   </Variable>
   <Variable>
    <Name>Link3\Gravity_applied\e</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 -22.857300000000002</Value>
   </Variable>
   <Variable>
    <Name>Link4\Gravity_applied\e</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 -11.005839</Value>
   </Variable>
   <Variable>
    <Name>Link5\Gravity_applied\e</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 -11.005839</Value>
   </Variable>
   <Variable>
    <Name>Link6\Gravity_applied\e</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 -1.8432990000000002</Value>
   </Variable>
   <Variable>
    <Name>sin_alpha_1</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>sin_alpha_2</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_alpha_3</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_alpha_4</Name>
    <Value>1.0</Value>
   </Variable>
   <Variable>
    <Name>sin_alpha_5</Name>
    <Value>-1.0</Value>
   </Variable>
   <Variable>
    <Name>sin_alpha_6</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_theta_1</Name>
    <Description><![CDATA[Homogeneous transformation matrix from base frame (0) to frame 1 (link 1)]]></Description>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_theta_2</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_theta_3</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_theta_4</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_theta_5</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>sin_theta_6</Name>
    <Value>0.0</Value>
   </Variable>
  </Parameters>
  <Initials>
   <Variable>
    <Name>HD1\C\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD1\I\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD2\C\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD2\I\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD3\C\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD3\I\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD4\C\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD4\I\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD5\C\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD5\I\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD6\C\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>HD6\I\state_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Link1\EULER_EQUATIONS\h_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link1\EULER_EQUATIONS\p_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link1\EULER_EQUATIONS\P_OG_0</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Description><![CDATA[position component of transformation matrix]]></Description>
    <Value>0.0 -0.0019300000000000016 0.063549</Value>
   </Variable>
   <Variable>
    <Name>Link1\EULER_EQUATIONS\R_OG_0</Name>
    <Rows>3</Rows>
    <Columns>3</Columns>
    <Description><![CDATA[rotation component of transformation matrix]]></Description>
    <Value>1.0 0.0 0.0
0.0 6.123233995736766e-17 -1.0
0.0 1.0 6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>Link2\EULER_EQUATIONS\h_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link2\EULER_EQUATIONS\p_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link2\EULER_EQUATIONS\P_OG_0</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Description><![CDATA[position component of transformation matrix]]></Description>
    <Value>-0.2125 -0.11336 0.08915900000000002</Value>
   </Variable>
   <Variable>
    <Name>Link2\EULER_EQUATIONS\R_OG_0</Name>
    <Rows>3</Rows>
    <Columns>3</Columns>
    <Description><![CDATA[rotation component of transformation matrix]]></Description>
    <Value>1.0 0.0 0.0
0.0 6.123233995736766e-17 -1.0
0.0 1.0 6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>Link3\EULER_EQUATIONS\h_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link3\EULER_EQUATIONS\p_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link3\EULER_EQUATIONS\P_OG_0</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Description><![CDATA[position component of transformation matrix]]></Description>
    <Value>-0.66725 -0.0265 0.089159</Value>
   </Variable>
   <Variable>
    <Name>Link3\EULER_EQUATIONS\R_OG_0</Name>
    <Rows>3</Rows>
    <Columns>3</Columns>
    <Description><![CDATA[rotation component of transformation matrix]]></Description>
    <Value>1.0 0.0 0.0
0.0 6.123233995736766e-17 -1.0
0.0 1.0 6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>Link4\EULER_EQUATIONS\h_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link4\EULER_EQUATIONS\p_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link4\EULER_EQUATIONS\P_OG_0</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Description><![CDATA[position component of transformation matrix]]></Description>
    <Value>-0.81725 -0.10735 0.072819</Value>
   </Variable>
   <Variable>
    <Name>Link4\EULER_EQUATIONS\R_OG_0</Name>
    <Rows>3</Rows>
    <Columns>3</Columns>
    <Description><![CDATA[rotation component of transformation matrix]]></Description>
    <Value>1.0 0.0 0.0
0.0 -1.0 -1.2246467991473532e-16
0.0 1.2246467991473532e-16 -1.0</Value>
   </Variable>
   <Variable>
    <Name>Link5\EULER_EQUATIONS\h_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link5\EULER_EQUATIONS\p_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link5\EULER_EQUATIONS\P_OG_0</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Description><![CDATA[position component of transformation matrix]]></Description>
    <Value>-0.81725 -0.12549000000000002 -0.0036909999999999946</Value>
   </Variable>
   <Variable>
    <Name>Link5\EULER_EQUATIONS\R_OG_0</Name>
    <Rows>3</Rows>
    <Columns>3</Columns>
    <Description><![CDATA[rotation component of transformation matrix]]></Description>
    <Value>1.0 0.0 0.0
0.0 6.123233995736766e-17 -1.0
0.0 1.0 6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>Link6\EULER_EQUATIONS\h_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link6\EULER_EQUATIONS\p_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Link6\EULER_EQUATIONS\P_OG_0</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Description><![CDATA[position component of transformation matrix]]></Description>
    <Value>-0.81725 -0.19029100000000002 -0.005490999999999991</Value>
   </Variable>
   <Variable>
    <Name>Link6\EULER_EQUATIONS\R_OG_0</Name>
    <Rows>3</Rows>
    <Columns>3</Columns>
    <Description><![CDATA[rotation component of transformation matrix]]></Description>
    <Value>1.0 0.0 0.0
0.0 6.123233995736766e-17 -1.0
0.0 1.0 6.123233995736766e-17</Value>
   </Variable>
   <Variable>
    <Name>PID1\pdstate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID1\pistate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID2\pdstate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID2\pistate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID3\pdstate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID3\pistate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID4\pdstate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID4\pistate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID5\pdstate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID5\pistate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID6\pdstate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>PID6\pistate_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint1\R_C\x.e_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint1\R_C1\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint1\R_C2\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint2\R_C\x.e_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint2\R_C1\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint2\R_C2\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint3\R_C\x.e_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint3\R_C1\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint3\R_C2\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint4\R_C\x.e_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint4\R_C1\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint4\R_C2\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint5\R_C\x.e_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint5\R_C1\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint5\R_C2\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint6\R_C\x.e_initial</Name>
    <Rows>3</Rows>
    <Columns>1</Columns>
    <Value>0.0 0.0 0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint6\R_C1\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
   <Variable>
    <Name>Joint6\R_C2\x.e_initial</Name>
    <Value>0.0</Value>
   </Variable>
  </Initials>
 </Variables>
 <PlotSpecs>
  <VarNames>
   <VarName>time</VarName>
   <VarName>Constant6\C</VarName>
   <VarName>Constant5\C</VarName>
   <VarName>Constant3\C</VarName>
   <VarName>Constant4\C</VarName>
   <VarName>Constant2\C</VarName>
   <VarName>Constant1\C</VarName>
   <VarName>Joint6\theta_6</VarName>
   <VarName>Joint5\theta_5</VarName>
   <VarName>Joint4\theta_4</VarName>
   <VarName>Joint3\theta_3</VarName>
   <VarName>Joint2\theta_2</VarName>
   <VarName>Joint1\theta_1</VarName>
  </VarNames>
  <Plots>
   <Plot>
    <PlotType>GraphPlot</PlotType>
    <BasePlot>
     <PlotId>1</PlotId>
     <UseWindowsBGColor>false</UseWindowsBGColor>
     <BGColor>16777215</BGColor>
     <PlotIsVisible>true</PlotIsVisible>
     <Solo>false</Solo>
    </BasePlot>
    <Grid>
     <DrawGrid>true</DrawGrid>
     <GridColor>15780518</GridColor>
     <GridBorderLineColor>12624260</GridBorderLineColor>
     <GridZeroLineColor>0</GridZeroLineColor>
     <XTicks>10</XTicks>
     <YTicks>10</YTicks>
     <ZTicks>10</ZTicks>
     <Use3DLook>false</Use3DLook>
    </Grid>
    <PlotBGColor>16777215</PlotBGColor>
    <ShowPlotTitle>true</ShowPlotTitle>
    <TitlePosition>1</TitlePosition>
    <PlotTitle>theta6</PlotTitle>
    <ShowXValues>true</ShowXValues>
    <Fonts>
     <TitleFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </TitleFont>
     <LabelFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LabelFont>
     <ValuesFont>
      <Name>Arial</Name>
      <Height>10</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </ValuesFont>
     <LegendFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LegendFont>
    </Fonts>
    <SharedXAxis>true</SharedXAxis>
    <SharedYAxis>true</SharedYAxis>
    <SharedZAxis>false</SharedZAxis>
    <XAxes>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>6.0</Maximum>
      <Linear>true</Linear>
      <Scaling>3</Scaling>
      <Label>time</Label>
     </Axis>
    </XAxes>
    <YAxes>
     <Axis>
      <Minimum>-1.0</Minimum>
      <Maximum>4.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>theta_6</Label>
     </Axis>
     <Axis>
      <Minimum>-0.5</Minimum>
      <Maximum>4.5</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>C</Label>
     </Axis>
    </YAxes>
    <ZAxes>
    </ZAxes>
    <Curves>
     <Curve>
      <LineColor>3355111</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>3355111</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Joint6\theta_6</VarName>
      </YCurveData>
     </Curve>
     <Curve>
      <LineColor>65280</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>65280</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Constant6\C</VarName>
      </YCurveData>
     </Curve>
    </Curves>
    <Legenda>
     <ShowLegenda>true</ShowLegenda>
     <Position>
      <X>0.9614949037372593</X>
      <Y>0.4955357142857143</Y>
     </Position>
     <BorderPenColor>0</BorderPenColor>
     <BackgroundColor>16777215</BackgroundColor>
    </Legenda>
   </Plot>
   <Plot>
    <PlotType>GraphPlot</PlotType>
    <BasePlot>
     <PlotId>2</PlotId>
     <UseWindowsBGColor>false</UseWindowsBGColor>
     <BGColor>16777215</BGColor>
     <PlotIsVisible>true</PlotIsVisible>
     <Solo>false</Solo>
    </BasePlot>
    <Grid>
     <DrawGrid>true</DrawGrid>
     <GridColor>15780518</GridColor>
     <GridBorderLineColor>12624260</GridBorderLineColor>
     <GridZeroLineColor>0</GridZeroLineColor>
     <XTicks>10</XTicks>
     <YTicks>10</YTicks>
     <ZTicks>10</ZTicks>
     <Use3DLook>false</Use3DLook>
    </Grid>
    <PlotBGColor>16777215</PlotBGColor>
    <ShowPlotTitle>true</ShowPlotTitle>
    <TitlePosition>1</TitlePosition>
    <PlotTitle>theta5</PlotTitle>
    <ShowXValues>true</ShowXValues>
    <Fonts>
     <TitleFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </TitleFont>
     <LabelFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LabelFont>
     <ValuesFont>
      <Name>Arial</Name>
      <Height>10</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </ValuesFont>
     <LegendFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LegendFont>
    </Fonts>
    <SharedXAxis>true</SharedXAxis>
    <SharedYAxis>true</SharedYAxis>
    <SharedZAxis>false</SharedZAxis>
    <XAxes>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>6.0</Maximum>
      <Linear>true</Linear>
      <Scaling>3</Scaling>
      <Label>time</Label>
     </Axis>
    </XAxes>
    <YAxes>
     <Axis>
      <Minimum>-1.0</Minimum>
      <Maximum>4.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>theta_5</Label>
     </Axis>
     <Axis>
      <Minimum>-1.0</Minimum>
      <Maximum>4.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>C</Label>
     </Axis>
    </YAxes>
    <ZAxes>
    </ZAxes>
    <Curves>
     <Curve>
      <LineColor>3355111</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>3355111</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Joint5\theta_5</VarName>
      </YCurveData>
     </Curve>
     <Curve>
      <LineColor>65280</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>65280</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Constant5\C</VarName>
      </YCurveData>
     </Curve>
    </Curves>
    <Legenda>
     <ShowLegenda>true</ShowLegenda>
     <Position>
      <X>0.9604448130838638</X>
      <Y>0.5607769423558898</Y>
     </Position>
     <BorderPenColor>0</BorderPenColor>
     <BackgroundColor>16777215</BackgroundColor>
    </Legenda>
   </Plot>
   <Plot>
    <PlotType>GraphPlot</PlotType>
    <BasePlot>
     <PlotId>3</PlotId>
     <UseWindowsBGColor>false</UseWindowsBGColor>
     <BGColor>16777215</BGColor>
     <PlotIsVisible>true</PlotIsVisible>
     <Solo>false</Solo>
    </BasePlot>
    <Grid>
     <DrawGrid>true</DrawGrid>
     <GridColor>15780518</GridColor>
     <GridBorderLineColor>12624260</GridBorderLineColor>
     <GridZeroLineColor>0</GridZeroLineColor>
     <XTicks>10</XTicks>
     <YTicks>10</YTicks>
     <ZTicks>10</ZTicks>
     <Use3DLook>false</Use3DLook>
    </Grid>
    <PlotBGColor>16777215</PlotBGColor>
    <ShowPlotTitle>true</ShowPlotTitle>
    <TitlePosition>1</TitlePosition>
    <PlotTitle>theta4</PlotTitle>
    <ShowXValues>true</ShowXValues>
    <Fonts>
     <TitleFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </TitleFont>
     <LabelFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LabelFont>
     <ValuesFont>
      <Name>Arial</Name>
      <Height>10</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </ValuesFont>
     <LegendFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LegendFont>
    </Fonts>
    <SharedXAxis>true</SharedXAxis>
    <SharedYAxis>true</SharedYAxis>
    <SharedZAxis>false</SharedZAxis>
    <XAxes>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>6.0</Maximum>
      <Linear>true</Linear>
      <Scaling>3</Scaling>
      <Label>time</Label>
     </Axis>
    </XAxes>
    <YAxes>
     <Axis>
      <Minimum>-1.0</Minimum>
      <Maximum>4.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>theta_4</Label>
     </Axis>
     <Axis>
      <Minimum>-1.0</Minimum>
      <Maximum>4.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>C</Label>
     </Axis>
    </YAxes>
    <ZAxes>
    </ZAxes>
    <Curves>
     <Curve>
      <LineColor>3355111</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>3355111</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Joint4\theta_4</VarName>
      </YCurveData>
     </Curve>
     <Curve>
      <LineColor>65280</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>65280</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Constant4\C</VarName>
      </YCurveData>
     </Curve>
    </Curves>
    <Legenda>
     <ShowLegenda>true</ShowLegenda>
     <Position>
      <X>0.9567176558786468</X>
      <Y>0.5570447858777378</Y>
     </Position>
     <BorderPenColor>0</BorderPenColor>
     <BackgroundColor>16777215</BackgroundColor>
    </Legenda>
   </Plot>
   <Plot>
    <PlotType>GraphPlot</PlotType>
    <BasePlot>
     <PlotId>4</PlotId>
     <UseWindowsBGColor>false</UseWindowsBGColor>
     <BGColor>16777215</BGColor>
     <PlotIsVisible>true</PlotIsVisible>
     <Solo>false</Solo>
    </BasePlot>
    <Grid>
     <DrawGrid>true</DrawGrid>
     <GridColor>15780518</GridColor>
     <GridBorderLineColor>12624260</GridBorderLineColor>
     <GridZeroLineColor>0</GridZeroLineColor>
     <XTicks>10</XTicks>
     <YTicks>10</YTicks>
     <ZTicks>10</ZTicks>
     <Use3DLook>false</Use3DLook>
    </Grid>
    <PlotBGColor>16777215</PlotBGColor>
    <ShowPlotTitle>true</ShowPlotTitle>
    <TitlePosition>1</TitlePosition>
    <PlotTitle>theta3</PlotTitle>
    <ShowXValues>true</ShowXValues>
    <Fonts>
     <TitleFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </TitleFont>
     <LabelFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LabelFont>
     <ValuesFont>
      <Name>Arial</Name>
      <Height>10</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </ValuesFont>
     <LegendFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LegendFont>
    </Fonts>
    <SharedXAxis>true</SharedXAxis>
    <SharedYAxis>true</SharedYAxis>
    <SharedZAxis>false</SharedZAxis>
    <XAxes>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>6.0</Maximum>
      <Linear>true</Linear>
      <Scaling>3</Scaling>
      <Label>time</Label>
     </Axis>
    </XAxes>
    <YAxes>
     <Axis>
      <Minimum>-1.0</Minimum>
      <Maximum>4.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>C</Label>
     </Axis>
     <Axis>
      <Minimum>-3.0</Minimum>
      <Maximum>7.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>theta_3</Label>
     </Axis>
    </YAxes>
    <ZAxes>
    </ZAxes>
    <Curves>
     <Curve>
      <LineColor>65280</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>65280</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Constant3\C</VarName>
      </YCurveData>
     </Curve>
     <Curve>
      <LineColor>3355111</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>3355111</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Joint3\theta_3</VarName>
      </YCurveData>
     </Curve>
    </Curves>
    <Legenda>
     <ShowLegenda>true</ShowLegenda>
     <Position>
      <X>0.956676449789716</X>
      <Y>0.5467200610221203</Y>
     </Position>
     <BorderPenColor>0</BorderPenColor>
     <BackgroundColor>16777215</BackgroundColor>
    </Legenda>
   </Plot>
   <Plot>
    <PlotType>GraphPlot</PlotType>
    <BasePlot>
     <PlotId>5</PlotId>
     <UseWindowsBGColor>false</UseWindowsBGColor>
     <BGColor>16777215</BGColor>
     <PlotIsVisible>true</PlotIsVisible>
     <Solo>false</Solo>
    </BasePlot>
    <Grid>
     <DrawGrid>true</DrawGrid>
     <GridColor>15780518</GridColor>
     <GridBorderLineColor>12624260</GridBorderLineColor>
     <GridZeroLineColor>0</GridZeroLineColor>
     <XTicks>10</XTicks>
     <YTicks>10</YTicks>
     <ZTicks>10</ZTicks>
     <Use3DLook>false</Use3DLook>
    </Grid>
    <PlotBGColor>16777215</PlotBGColor>
    <ShowPlotTitle>true</ShowPlotTitle>
    <TitlePosition>1</TitlePosition>
    <PlotTitle>theta2</PlotTitle>
    <ShowXValues>true</ShowXValues>
    <Fonts>
     <TitleFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </TitleFont>
     <LabelFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LabelFont>
     <ValuesFont>
      <Name>Arial</Name>
      <Height>10</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </ValuesFont>
     <LegendFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LegendFont>
    </Fonts>
    <SharedXAxis>true</SharedXAxis>
    <SharedYAxis>true</SharedYAxis>
    <SharedZAxis>false</SharedZAxis>
    <XAxes>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>6.0</Maximum>
      <Linear>true</Linear>
      <Scaling>3</Scaling>
      <Label>time</Label>
     </Axis>
    </XAxes>
    <YAxes>
     <Axis>
      <Minimum>-1.0</Minimum>
      <Maximum>4.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>C</Label>
     </Axis>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>10.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>theta_2</Label>
     </Axis>
    </YAxes>
    <ZAxes>
    </ZAxes>
    <Curves>
     <Curve>
      <LineColor>65280</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>65280</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Constant2\C</VarName>
      </YCurveData>
     </Curve>
     <Curve>
      <LineColor>3355111</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>3355111</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Joint2\theta_2</VarName>
      </YCurveData>
     </Curve>
    </Curves>
    <Legenda>
     <ShowLegenda>true</ShowLegenda>
     <Position>
      <X>0.9603211948170715</X>
      <Y>0.6649504195270789</Y>
     </Position>
     <BorderPenColor>0</BorderPenColor>
     <BackgroundColor>16777215</BackgroundColor>
    </Legenda>
   </Plot>
   <Plot>
    <PlotType>GraphPlot</PlotType>
    <BasePlot>
     <PlotId>6</PlotId>
     <UseWindowsBGColor>false</UseWindowsBGColor>
     <BGColor>16777215</BGColor>
     <PlotIsVisible>true</PlotIsVisible>
     <Solo>false</Solo>
    </BasePlot>
    <Grid>
     <DrawGrid>true</DrawGrid>
     <GridColor>15780518</GridColor>
     <GridBorderLineColor>12624260</GridBorderLineColor>
     <GridZeroLineColor>0</GridZeroLineColor>
     <XTicks>10</XTicks>
     <YTicks>10</YTicks>
     <ZTicks>10</ZTicks>
     <Use3DLook>false</Use3DLook>
    </Grid>
    <PlotBGColor>16777215</PlotBGColor>
    <ShowPlotTitle>true</ShowPlotTitle>
    <TitlePosition>1</TitlePosition>
    <PlotTitle>theta1</PlotTitle>
    <ShowXValues>true</ShowXValues>
    <Fonts>
     <TitleFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </TitleFont>
     <LabelFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LabelFont>
     <ValuesFont>
      <Name>Arial</Name>
      <Height>10</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </ValuesFont>
     <LegendFont>
      <Name>Arial</Name>
      <Height>12</Height>
      <PitchFamily>34</PitchFamily>
      <Weight>400</Weight>
      <Italic>0</Italic>
      <UnderLine>0</UnderLine>
      <StrikeOut>0</StrikeOut>
      <Color>0</Color>
     </LegendFont>
    </Fonts>
    <SharedXAxis>true</SharedXAxis>
    <SharedYAxis>true</SharedYAxis>
    <SharedZAxis>false</SharedZAxis>
    <XAxes>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>6.0</Maximum>
      <Linear>true</Linear>
      <Scaling>3</Scaling>
      <Label>time</Label>
     </Axis>
    </XAxes>
    <YAxes>
     <Axis>
      <Minimum>-0.5</Minimum>
      <Maximum>4.5</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>C</Label>
     </Axis>
     <Axis>
      <Minimum>0.0</Minimum>
      <Maximum>10.0</Maximum>
      <Linear>true</Linear>
      <Scaling>2</Scaling>
      <Label>theta_1</Label>
     </Axis>
    </YAxes>
    <ZAxes>
    </ZAxes>
    <Curves>
     <Curve>
      <LineColor>65280</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>65280</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Constant1\C</VarName>
      </YCurveData>
     </Curve>
     <Curve>
      <LineColor>3355111</LineColor>
      <LineStyle>1</LineStyle>
      <TickColor>3355111</TickColor>
      <TickStyle>0</TickStyle>
      <CurveVisible>true</CurveVisible>
      <PixelThresshold>1</PixelThresshold>
      <LineThickness>2</LineThickness>
      <LineOrder>1</LineOrder>
      <ShowYValues>true</ShowYValues>
      <XCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>time</VarName>
      </XCurveData>
      <YCurveData>
       <ShowUnit>true</ShowUnit>
       <VarName>Joint1\theta_1</VarName>
      </YCurveData>
     </Curve>
    </Curves>
    <Legenda>
     <ShowLegenda>true</ShowLegenda>
     <Position>
      <X>0.9590238676300916</X>
      <Y>0.7046866177300958</Y>
     </Position>
     <BorderPenColor>0</BorderPenColor>
     <BackgroundColor>16777215</BackgroundColor>
    </Legenda>
   </Plot>
   <Plot>
    <PlotType>D3DPlot</PlotType>
    <BasePlot>
     <PlotId>7</PlotId>
     <UseWindowsBGColor>false</UseWindowsBGColor>
     <BGColor>16777215</BGColor>
     <PlotIsVisible>true</PlotIsVisible>
     <Solo>false</Solo>
    </BasePlot>
    <PlotTitle>3D Animation</PlotTitle>
    <RenderQuality>137</RenderQuality>
    <ShowGrid>true</ShowGrid>
    <ShowFPS>false</ShowFPS>
    <BackgroundColor>4294967295</BackgroundColor>
    <SceneBackgroundImage>Gradients\BlueWhite.png</SceneBackgroundImage>
    <ApplyTextureBackground>true</ApplyTextureBackground>
    <FrameScale>1.0</FrameScale>
    <FrameThickness>1.0</FrameThickness>
    <MainFrame>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>true</ShowReferenceFrame>
      <Name>Reference Frame</Name>
      <Position>
      </Position>
      <Orientation>
       <Angles>
       </Angles>
       <OrientationType>Bryant</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
       <Frame>
        <ScaleValue>
         <X>
          <Value>1</Value>
         </X>
         <Y>
          <Value>1</Value>
         </Y>
         <Z>
          <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Default Lights and Cameras</Name>
        <Position>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Light>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Ambient</Name>
          <Position>
          </Position>
          <Orientation>
           <ZAxis>
            <Z>
             <Value>1</Value>
            </Z>
           </ZAxis>
           <YAxis>
            <Y>
             <Value>1</Value>
            </Y>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <LightType>0</LightType>
          <LightColor>
           <Color>
            <X>
             <Value>0.3</Value>
            </X>
            <Y>
             <Value>0.3</Value>
            </Y>
            <Z>
             <Value>0.3</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </LightColor>
          <AmbientLight>
           <Color>
            <X>
             <Value>0.3</Value>
            </X>
            <Y>
             <Value>0.3</Value>
            </Y>
            <Z>
             <Value>0.3</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </AmbientLight>
          <AmbientOn>true</AmbientOn>
          <DiffuseOn>false</DiffuseOn>
          <SpecularOn>false</SpecularOn>
         </Light>
         <Light>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Parallel</Name>
          <Position>
           <X>
            <Value>-3</Value>
           </X>
           <Y>
            <Value>5</Value>
           </Y>
           <Z>
            <Value>3</Value>
           </Z>
          </Position>
          <Orientation>
           <ZAxis>
            <X>
             <Value>0.457495704067041</Value>
            </X>
            <Y>
             <Value>-0.762492859979951</Value>
            </Y>
            <Z>
             <Value>-0.457495704067041</Value>
            </Z>
           </ZAxis>
           <YAxis>
            <X>
             <Value>0.235379603289675</Value>
            </X>
            <Y>
             <Value>-0.392299348750231</Value>
            </Y>
            <Z>
             <Value>0.889211821404405</Value>
            </Z>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <LightType>3</LightType>
          <LightColor>
           <Color>
            <X>
             <Value>0.5</Value>
            </X>
            <Y>
             <Value>0.5</Value>
            </Y>
            <Z>
             <Value>0.5</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </LightColor>
          <Attenuation>
           <Constant>
            <Value>1.0</Value>
           </Constant>
           <Linear>
            <Value>0.0</Value>
           </Linear>
           <Quadratic>
            <Value>0.0</Value>
           </Quadratic>
          </Attenuation>
          <DiffuseLight>
           <Color>
            <X>
             <Value>0.5</Value>
            </X>
            <Y>
             <Value>0.5</Value>
            </Y>
            <Z>
             <Value>0.5</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </DiffuseLight>
          <SpecularLight>
           <Color>
            <X>
             <Value>0.5</Value>
            </X>
            <Y>
             <Value>0.5</Value>
            </Y>
            <Z>
             <Value>0.5</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </SpecularLight>
          <AmbientOn>false</AmbientOn>
          <DiffuseOn>true</DiffuseOn>
          <SpecularOn>true</SpecularOn>
         </Light>
         <Light>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Spot Light 1</Name>
          <Position>
           <X>
            <Value>-3</Value>
           </X>
           <Y>
            <Value>-5</Value>
           </Y>
           <Z>
            <Value>1</Value>
           </Z>
          </Position>
          <Orientation>
           <ZAxis>
            <X>
             <Value>0.50709255283711</Value>
            </X>
            <Y>
             <Value>0.845154254728517</Value>
            </Y>
            <Z>
             <Value>-0.169030850945703</Value>
            </Z>
           </ZAxis>
           <YAxis>
            <X>
             <Value>0.0869656553478673</Value>
            </X>
            <Y>
             <Value>0.144942758913112</Value>
            </Y>
            <Z>
             <Value>0.985610760609162</Value>
            </Z>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <LightType>2</LightType>
          <LightColor>
           <Color>
            <X>
             <Value>0.5</Value>
            </X>
            <Y>
             <Value>0.5</Value>
            </Y>
            <Z>
             <Value>0.5</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </LightColor>
          <Attenuation>
           <Constant>
            <Value>1.0</Value>
           </Constant>
           <Linear>
            <Value>0.05</Value>
           </Linear>
           <Quadratic>
            <Value>0.05</Value>
           </Quadratic>
          </Attenuation>
          <Umbra>
           <Value>1.0471975511965976</Value>
          </Umbra>
          <Penumbra>
           <Value>1.0471975511965976</Value>
          </Penumbra>
          <SpotExponent>0.0</SpotExponent>
          <DiffuseLight>
           <Color>
            <X>
             <Value>0.5</Value>
            </X>
            <Y>
             <Value>0.5</Value>
            </Y>
            <Z>
             <Value>0.5</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </DiffuseLight>
          <SpecularLight>
           <Color>
            <X>
             <Value>0.5</Value>
            </X>
            <Y>
             <Value>0.5</Value>
            </Y>
            <Z>
             <Value>0.5</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </SpecularLight>
          <AmbientOn>false</AmbientOn>
          <DiffuseOn>true</DiffuseOn>
          <SpecularOn>true</SpecularOn>
         </Light>
         <Light>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Spot Light 2</Name>
          <Position>
           <X>
            <Value>2</Value>
           </X>
           <Y>
            <Value>-3</Value>
           </Y>
           <Z>
            <Value>-1</Value>
           </Z>
          </Position>
          <Orientation>
           <ZAxis>
            <X>
             <Value>-0.534522496597273</Value>
            </X>
            <Y>
             <Value>0.801783715093586</Value>
            </Y>
            <Z>
             <Value>0.267261248298637</Value>
            </Z>
           </ZAxis>
           <YAxis>
            <X>
             <Value>0.148249867750411</Value>
            </X>
            <Y>
             <Value>-0.222374801625616</Value>
            </Y>
            <Z>
             <Value>0.963624109450336</Value>
            </Z>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <LightType>2</LightType>
          <LightColor>
           <Color>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </LightColor>
          <Attenuation>
           <Constant>
            <Value>1.0</Value>
           </Constant>
           <Linear>
            <Value>0.05</Value>
           </Linear>
           <Quadratic>
            <Value>0.05</Value>
           </Quadratic>
          </Attenuation>
          <Umbra>
           <Value>1.5707963267948966</Value>
          </Umbra>
          <Penumbra>
           <Value>1.5707963267948966</Value>
          </Penumbra>
          <SpotExponent>0.0</SpotExponent>
          <DiffuseLight>
           <Color>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </DiffuseLight>
          <SpecularLight>
           <Color>
            <X>
             <Value>0.5</Value>
            </X>
            <Y>
             <Value>0.5</Value>
            </Y>
            <Z>
             <Value>0.5</Value>
            </Z>
           </Color>
           <Offset>
           </Offset>
           <Multipliers>
            <X>
             <Value>1</Value>
            </X>
            <Y>
             <Value>1</Value>
            </Y>
            <Z>
             <Value>1</Value>
            </Z>
           </Multipliers>
           <Direct3DColorRange>true</Direct3DColorRange>
          </SpecularLight>
          <AmbientOn>false</AmbientOn>
          <DiffuseOn>true</DiffuseOn>
          <SpecularOn>true</SpecularOn>
         </Light>
         <Camera>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Camera Looking at Origin</Name>
          <Position>
           <X>
            <Value>8</Value>
           </X>
           <Y>
            <Value>4</Value>
           </Y>
           <Z>
            <Value>4</Value>
           </Z>
          </Position>
          <Orientation>
           <ZAxis>
            <X>
             <Value>-0.816496580927726</Value>
            </X>
            <Y>
             <Value>-0.408248290463863</Value>
            </Y>
            <Z>
             <Value>-0.408248290463863</Value>
            </Z>
           </ZAxis>
           <YAxis>
            <X>
             <Value>-0.365148366228976</Value>
            </X>
            <Y>
             <Value>-0.182574183114488</Value>
            </Y>
            <Z>
             <Value>0.912870931895844</Value>
            </Z>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <FrontPlane>0.01</FrontPlane>
          <BackPlane>100.0</BackPlane>
          <AutoFrontBack>true</AutoFrontBack>
          <Field>0.003926990816987242</Field>
          <Fieldy>45.0</Fieldy>
          <PlaneLeft>-10.0</PlaneLeft>
          <PlaneRight>10.0</PlaneRight>
          <PlaneTop>10.0</PlaneTop>
          <PlaneBottom>-10.0</PlaneBottom>
          <UseLookatPosition>true</UseLookatPosition>
          <LookatPosition>
          </LookatPosition>
          <UseAlwaysLookUp>true</UseAlwaysLookUp>
          <LookUpVector>
           <Z>
            <Value>1</Value>
           </Z>
          </LookUpVector>
          <RightHand>true</RightHand>
          <Perspective>true</Perspective>
          <IsSelectedCamera>true</IsSelectedCamera>
         </Camera>
         <Camera>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Front(XY)-Camera</Name>
          <Position>
           <Z>
            <Value>10</Value>
           </Z>
          </Position>
          <Orientation>
           <ZAxis>
            <Z>
             <Value>-1</Value>
            </Z>
           </ZAxis>
           <YAxis>
            <Y>
             <Value>1</Value>
            </Y>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <FrontPlane>0.01</FrontPlane>
          <BackPlane>100.0</BackPlane>
          <AutoFrontBack>true</AutoFrontBack>
          <Field>9.999999999999998</Field>
          <Fieldy>45.0</Fieldy>
          <PlaneLeft>-9.999999999999998</PlaneLeft>
          <PlaneRight>9.999999999999998</PlaneRight>
          <PlaneTop>9.999999999999998</PlaneTop>
          <PlaneBottom>-9.999999999999998</PlaneBottom>
          <UseLookatPosition>true</UseLookatPosition>
          <LookatPosition>
          </LookatPosition>
          <UseAlwaysLookUp>true</UseAlwaysLookUp>
          <LookUpVector>
           <Y>
            <Value>1</Value>
           </Y>
          </LookUpVector>
          <RightHand>true</RightHand>
          <Perspective>false</Perspective>
          <IsSelectedCamera>false</IsSelectedCamera>
         </Camera>
         <Camera>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Side(YZ)-Camera</Name>
          <Position>
           <X>
            <Value>10</Value>
           </X>
          </Position>
          <Orientation>
           <ZAxis>
            <X>
             <Value>-1</Value>
            </X>
           </ZAxis>
           <YAxis>
            <Z>
             <Value>1</Value>
            </Z>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <FrontPlane>0.01</FrontPlane>
          <BackPlane>100.0</BackPlane>
          <AutoFrontBack>true</AutoFrontBack>
          <Field>9.999999999999998</Field>
          <Fieldy>45.0</Fieldy>
          <PlaneLeft>-9.999999999999998</PlaneLeft>
          <PlaneRight>9.999999999999998</PlaneRight>
          <PlaneTop>9.999999999999998</PlaneTop>
          <PlaneBottom>-9.999999999999998</PlaneBottom>
          <UseLookatPosition>true</UseLookatPosition>
          <LookatPosition>
          </LookatPosition>
          <UseAlwaysLookUp>true</UseAlwaysLookUp>
          <LookUpVector>
           <Z>
            <Value>1</Value>
           </Z>
          </LookUpVector>
          <RightHand>true</RightHand>
          <Perspective>false</Perspective>
          <IsSelectedCamera>false</IsSelectedCamera>
         </Camera>
         <Camera>
          <ShowReferenceFrame>false</ShowReferenceFrame>
          <Name>Top(XZ)-Camera</Name>
          <Position>
           <Y>
            <Value>10</Value>
           </Y>
          </Position>
          <Orientation>
           <ZAxis>
            <Y>
             <Value>-1</Value>
            </Y>
           </ZAxis>
           <YAxis>
            <X>
             <Value>1</Value>
            </X>
           </YAxis>
           <OrientationType>Direct3D</OrientationType>
          </Orientation>
          <LockX>false</LockX>
          <LockY>false</LockY>
          <LockZ>false</LockZ>
          <LockXPitch>false</LockXPitch>
          <LockYYaw>false</LockYYaw>
          <LockZRoll>false</LockZRoll>
          <Childs>
          </Childs>
          <FrontPlane>0.01</FrontPlane>
          <BackPlane>100.0</BackPlane>
          <AutoFrontBack>true</AutoFrontBack>
          <Field>9.999999999999998</Field>
          <Fieldy>45.0</Fieldy>
          <PlaneLeft>-9.999999999999998</PlaneLeft>
          <PlaneRight>9.999999999999998</PlaneRight>
          <PlaneTop>9.999999999999998</PlaneTop>
          <PlaneBottom>-9.999999999999998</PlaneBottom>
          <UseLookatPosition>true</UseLookatPosition>
          <LookatPosition>
          </LookatPosition>
          <UseAlwaysLookUp>true</UseAlwaysLookUp>
          <LookUpVector>
           <X>
            <Value>1</Value>
           </X>
          </LookUpVector>
          <RightHand>true</RightHand>
          <Perspective>false</Perspective>
          <IsSelectedCamera>false</IsSelectedCamera>
         </Camera>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
          <Value>1</Value>
         </X>
         <Y>
          <Value>1</Value>
         </Y>
         <Z>
          <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Scenery</Name>
        <Position>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
    </MainFrame>
   </Plot>
  </Plots>
  <PlotPanels>
   <PlotPanel>
    <PlotPanelId>1</PlotPanelId>
    <PlotPanelVisible>true</PlotPanelVisible>
    <Name>Window 1</Name>
    <Tiling>2</Tiling>
    <PlotIds>
     <PlotId>1</PlotId>
     <PlotId>2</PlotId>
     <PlotId>3</PlotId>
     <PlotId>4</PlotId>
     <PlotId>5</PlotId>
     <PlotId>6</PlotId>
    </PlotIds>
    <ToggleState>Base</ToggleState>
   </PlotPanel>
   <PlotPanel>
    <PlotPanelId>2</PlotPanelId>
    <PlotPanelVisible>false</PlotPanelVisible>
    <Name>Window 2</Name>
    <Tiling>2</Tiling>
    <PlotIds>
     <PlotId>7</PlotId>
    </PlotIds>
    <ToggleState>Base</ToggleState>
   </PlotPanel>
  </PlotPanels>
  <WindowRectangles virtualDesktopWidth="1920" virtualDesktopHeight="1080">
   <WindowRectangle monitor="0" left="0" top="0" right="1920" bottom="1080" plotpanelid="1">
0.357292 0.0037037 0.855729 0.993519
   </WindowRectangle>
   <WindowRectangle monitor="0" left="0" top="0" right="1920" bottom="1080" plotpanelid="2">
0 0.133333 0.794792 0.860185
   </WindowRectangle>
  </WindowRectangles>
 </PlotSpecs>
 <RunSpecs>
  <SimulatorSettings>
   <StartTime>0.0</StartTime>
   <FinishTime>6.0</FinishTime>
   <AllowPassFinishTime>false</AllowPassFinishTime>
   <Warp>false</Warp>
   <SimulationMode>0</SimulationMode>
   <FPGonio>false</FPGonio>
   <UseOutputAfterEach>false</UseOutputAfterEach>
   <OutputAfterEach>0.1</OutputAfterEach>
   <EventEpsilon>1.0e-6</EventEpsilon>
   <AlgebraicTolerance>1.0e-7</AlgebraicTolerance>
   <SteadyStateAnalysis>false</SteadyStateAnalysis>
   <UpdateHoldInstructions>true</UpdateHoldInstructions>
  </SimulatorSettings>
  <IntegrationMethods>
   <IntegrationMethod>
    <Name>Euler</Name>
    <StepSize>0.001</StepSize>
    <AutoStepSize>false</AutoStepSize>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>BackwardEuler</Name>
    <AbsoluteTolerance>1.0e-5</AbsoluteTolerance>
    <RelativeTolerance>1.0e-5</RelativeTolerance>
    <AlgebraicAbsoluteTolerance>1.0e-5</AlgebraicAbsoluteTolerance>
    <AlgebraicRelativeTolerance>1.0e-5</AlgebraicRelativeTolerance>
    <StepSize>0.01</StepSize>
    <Alpha>1.0</Alpha>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>AdamsBashforth</Name>
    <StepSize>0.01</StepSize>
    <AutoStepSize>false</AutoStepSize>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>RungeKutta2</Name>
    <StepSize>0.01</StepSize>
    <AutoStepSize>false</AutoStepSize>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>RungeKutta4</Name>
    <StepSize>0.01</StepSize>
    <AutoStepSize>false</AutoStepSize>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>RungeKutta8</Name>
    <UseInitialStepSize>false</UseInitialStepSize>
    <InitialStepSize>0.0</InitialStepSize>
    <UseMaximumStepSize>false</UseMaximumStepSize>
    <MaximumStepSize>0.0</MaximumStepSize>
    <AbsoluteTolerance>1.0e-6</AbsoluteTolerance>
    <RelativeTolerance>1.0e-6</RelativeTolerance>
    <SafetyFactor>0.9</SafetyFactor>
    <Factor1>0.33</Factor1>
    <Factor2>6.0</Factor2>
    <Beta>0.0</Beta>
    <UseMaxNrSteps>false</UseMaxNrSteps>
    <MaxNrSteps>100000</MaxNrSteps>
    <UseStiffDetection>false</UseStiffDetection>
    <MaxNrStiffnessSteps>1000</MaxNrStiffnessSteps>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>RungeKuttaFehlberg</Name>
    <UseInitialStepSize>false</UseInitialStepSize>
    <InitialStepSize>0.0</InitialStepSize>
    <UseMaximumStepSize>false</UseMaximumStepSize>
    <MaximumStepSize>0.0</MaximumStepSize>
    <AbsoluteTolerance>1.0e-6</AbsoluteTolerance>
    <RelativeTolerance>1.0e-6</RelativeTolerance>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>VodeAdams</Name>
    <UseInitialStepSize>false</UseInitialStepSize>
    <InitialStepSize>0.0</InitialStepSize>
    <UseMaximumStepSize>false</UseMaximumStepSize>
    <MaximumStepSize>0.0</MaximumStepSize>
    <AbsoluteTolerance>1.0e-6</AbsoluteTolerance>
    <RelativeTolerance>1.0e-6</RelativeTolerance>
    <VodeUseBDF>true</VodeUseBDF>
    <VodeUseNewton>true</VodeUseNewton>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>BDFMethod</Name>
    <AbsoluteTolerance>0.001</AbsoluteTolerance>
    <RelativeTolerance>0.001</RelativeTolerance>
    <AlgebraicAbsoluteTolerance>0.001</AlgebraicAbsoluteTolerance>
    <AlgebraicRelativeTolerance>0.001</AlgebraicRelativeTolerance>
    <UseInitialStepSize>false</UseInitialStepSize>
    <InitialStepSize>0.0</InitialStepSize>
    <UseMaximumStepSize>false</UseMaximumStepSize>
    <MaximumStepSize>0.0</MaximumStepSize>
   </IntegrationMethod>
   <IntegrationMethod>
    <Name>MeBDFiMethod</Name>
    <AbsoluteTolerance>0.001</AbsoluteTolerance>
    <RelativeTolerance>0.001</RelativeTolerance>
    <AlgebraicAbsoluteTolerance>0.001</AlgebraicAbsoluteTolerance>
    <AlgebraicRelativeTolerance>0.001</AlgebraicRelativeTolerance>
    <UseInitialStepSize>false</UseInitialStepSize>
    <InitialStepSize>0.0</InitialStepSize>
    <UseMaximumStepSize>false</UseMaximumStepSize>
    <MaximumStepSize>0.0</MaximumStepSize>
   </IntegrationMethod>
   <SelectedIntegrationMethod>9</SelectedIntegrationMethod>
  </IntegrationMethods>
 </RunSpecs>
 <MultipleRun>
  <NrSteps>10</NrSteps>
  <CopyFromStates>false</CopyFromStates>
  <JoinParameterVariation>true</JoinParameterVariation>
  <ClearAfterRun>true</ClearAfterRun>
  <RedrawAfterRun>false</RedrawAfterRun>
  <DrawDuringSimulation>true</DrawDuringSimulation>
  <ActionBeforeOptimization>0</ActionBeforeOptimization>
  <CompareValue>0.0</CompareValue>
  <UseCompareValue>true</UseCompareValue>
  <MultipleRunType>MultipleRun</MultipleRunType>
  <Minimize>true</Minimize>
  <OptimizationVariable></OptimizationVariable>
  <ResulVarUsage>UseEndValue</ResulVarUsage>
  <Tolerance>0.001</Tolerance>
  <OptimizationMethod>BroydonFletcherGoldfarbShanno</OptimizationMethod>
  <MultipleRunVariables>
  </MultipleRunVariables>
 </MultipleRun>
 <ExportData>
  <WriteAsText>true</WriteAsText>
  <ReadAsText>true</ReadAsText>
  <WriteHeader>true</WriteHeader>
  <ReadHeader>true</ReadHeader>
  <ReadFilename></ReadFilename>
  <WriteFilename></WriteFilename>
  <DoWrite>false</DoWrite>
  <ExportVariables>
  </ExportVariables>
  <ImportVariables>
  </ImportVariables>
 </ExportData>
 <BreakPoints>
 </BreakPoints>
 <AnimationPlayback>
  <PlaybackSpeed>1.0</PlaybackSpeed>
 </AnimationPlayback>
</ExpData>
  </Experiment>
</Experiments>
</Document>
